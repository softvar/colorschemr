webpackJsonp([0],[function(t,e,r){"use strict";var n=r(1),i=r(160),o=r(4),s=r(280),c=r(301),u=r(333);i.bootstrap(u.MainApp,[s.HTTP_PROVIDERS,c.ROUTER_PROVIDERS,o.provide(n.LocationStrategy,{useClass:n.HashLocationStrategy})])["catch"](function(t){return console.error(t)})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(302))},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}var i=r(303);e.Router=i.Router;var o=r(328);e.RouterOutlet=o.RouterOutlet;var s=r(330);e.RouterLink=s.RouterLink;var c=r(315);e.RouteParams=c.RouteParams,e.RouteData=c.RouteData;var u=r(311);e.RouteRegistry=u.RouteRegistry,e.ROUTER_PRIMARY_COMPONENT=u.ROUTER_PRIMARY_COMPONENT,n(r(324));var a=r(329);e.CanActivate=a.CanActivate;var h=r(315);e.Instruction=h.Instruction,e.ComponentInstruction=h.ComponentInstruction;var p=r(4);e.OpaqueToken=p.OpaqueToken;var l=r(331);e.ROUTER_PROVIDERS_COMMON=l.ROUTER_PROVIDERS_COMMON;var f=r(332);e.ROUTER_PROVIDERS=f.ROUTER_PROVIDERS,e.ROUTER_BINDINGS=f.ROUTER_BINDINGS;var d=r(328),b=r(330);e.ROUTER_DIRECTIVES=[d.RouterOutlet,b.RouterLink]},function(t,e,r){"use strict";function n(t,e){var r=y;return h.isBlank(t.component)?r:(h.isPresent(t.child)&&(r=n(t.child,h.isPresent(e)?e.child:null)),r.then(function(r){if(0==r)return!1;if(t.component.reuse)return!0;var n=d.getCanActivateHook(t.component.componentType);return h.isPresent(n)?n(t.component,h.isPresent(e)?e.component:null):!0}))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},u=r(304),a=r(307),h=r(305),p=r(308),l=r(1),f=r(311),d=r(326),b=r(4),y=u.PromiseWrapper.resolve(!0),v=u.PromiseWrapper.resolve(!1),m=function(){function t(t,e,r,n){this.registry=t,this.parent=e,this.hostComponent=r,this.root=n,this.navigating=!1,this.currentInstruction=null,this._currentNavigation=y,this._outlet=null,this._auxRouters=new a.Map,this._subject=new u.EventEmitter}return t.prototype.childRouter=function(t){return this._childRouter=new g(this,t)},t.prototype.auxRouter=function(t){return new g(this,t)},t.prototype.registerPrimaryOutlet=function(t){if(h.isPresent(t.name))throw new p.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");if(h.isPresent(this._outlet))throw new p.BaseException("Primary outlet is already registered.");return this._outlet=t,h.isPresent(this.currentInstruction)?this.commit(this.currentInstruction,!1):y},t.prototype.unregisterPrimaryOutlet=function(t){if(h.isPresent(t.name))throw new p.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");this._outlet=null},t.prototype.registerAuxOutlet=function(t){var e=t.name;if(h.isBlank(e))throw new p.BaseException("registerAuxOutlet expects to be called with an outlet with a name.");var r=this.auxRouter(this.hostComponent);this._auxRouters.set(e,r),r._outlet=t;var n;return h.isPresent(this.currentInstruction)&&h.isPresent(n=this.currentInstruction.auxInstruction[e])?r.commit(n):y},t.prototype.isRouteActive=function(t){var e=this,r=this;if(h.isBlank(this.currentInstruction))return!1;for(;h.isPresent(r.parent)&&h.isPresent(t.child);)r=r.parent,t=t.child;if(h.isBlank(t.component)||h.isBlank(this.currentInstruction.component)||this.currentInstruction.component.routeName!=t.component.routeName)return!1;var n=!0;return h.isPresent(this.currentInstruction.component.params)&&a.StringMapWrapper.forEach(t.component.params,function(t,r){e.currentInstruction.component.params[r]!==t&&(n=!1)}),n},t.prototype.config=function(t){var e=this;return t.forEach(function(t){e.registry.config(e.hostComponent,t)}),this.renavigate()},t.prototype.navigate=function(t){var e=this.generate(t);return this.navigateByInstruction(e,!1)},t.prototype.navigateByUrl=function(t,e){var r=this;return void 0===e&&(e=!1),this._currentNavigation=this._currentNavigation.then(function(n){return r.lastNavigationAttempt=t,r._startNavigating(),r._afterPromiseFinishNavigating(r.recognize(t).then(function(t){return h.isBlank(t)?!1:r._navigate(t,e)}))})},t.prototype.navigateByInstruction=function(t,e){var r=this;return void 0===e&&(e=!1),h.isBlank(t)?v:this._currentNavigation=this._currentNavigation.then(function(n){return r._startNavigating(),r._afterPromiseFinishNavigating(r._navigate(t,e))})},t.prototype._settleInstruction=function(t){var e=this;return t.resolveComponent().then(function(r){var n=[];return h.isPresent(t.component)&&(t.component.reuse=!1),h.isPresent(t.child)&&n.push(e._settleInstruction(t.child)),a.StringMapWrapper.forEach(t.auxInstruction,function(t,r){n.push(e._settleInstruction(t))}),u.PromiseWrapper.all(n)})},t.prototype._navigate=function(t,e){var r=this;return this._settleInstruction(t).then(function(e){return r._routerCanReuse(t)}).then(function(e){return r._canActivate(t)}).then(function(n){return n?r._routerCanDeactivate(t).then(function(n){return n?r.commit(t,e).then(function(e){return r._emitNavigationFinish(t.toRootUrl()),!0}):void 0}):!1})},t.prototype._emitNavigationFinish=function(t){u.ObservableWrapper.callEmit(this._subject,t)},t.prototype._emitNavigationFail=function(t){u.ObservableWrapper.callError(this._subject,t)},t.prototype._afterPromiseFinishNavigating=function(t){var e=this;return u.PromiseWrapper.catchError(t.then(function(t){return e._finishNavigating()}),function(t){throw e._finishNavigating(),t})},t.prototype._routerCanReuse=function(t){var e=this;return h.isBlank(this._outlet)?v:h.isBlank(t.component)?y:this._outlet.routerCanReuse(t.component).then(function(r){return t.component.reuse=r,r&&h.isPresent(e._childRouter)&&h.isPresent(t.child)?e._childRouter._routerCanReuse(t.child):void 0})},t.prototype._canActivate=function(t){return n(t,this.currentInstruction)},t.prototype._routerCanDeactivate=function(t){var e=this;if(h.isBlank(this._outlet))return y;var r,n=null,i=!1,o=null;return h.isPresent(t)&&(n=t.child,o=t.component,i=h.isBlank(t.component)||t.component.reuse),r=i?y:this._outlet.routerCanDeactivate(o),r.then(function(t){return 0==t?!1:h.isPresent(e._childRouter)?e._childRouter._routerCanDeactivate(n):!0})},t.prototype.commit=function(t,e){var r=this;void 0===e&&(e=!1),this.currentInstruction=t;var n=y;if(h.isPresent(this._outlet)&&h.isPresent(t.component)){var i=t.component;n=i.reuse?this._outlet.reuse(i):this.deactivate(t).then(function(t){return r._outlet.activate(i)}),h.isPresent(t.child)&&(n=n.then(function(e){return h.isPresent(r._childRouter)?r._childRouter.commit(t.child):void 0}))}var o=[];return this._auxRouters.forEach(function(e,r){h.isPresent(t.auxInstruction[r])&&o.push(e.commit(t.auxInstruction[r]))}),n.then(function(t){return u.PromiseWrapper.all(o)})},t.prototype._startNavigating=function(){this.navigating=!0},t.prototype._finishNavigating=function(){this.navigating=!1},t.prototype.subscribe=function(t,e){return u.ObservableWrapper.subscribe(this._subject,t,e)},t.prototype.deactivate=function(t){var e=this,r=null,n=null;h.isPresent(t)&&(r=t.child,n=t.component);var i=y;return h.isPresent(this._childRouter)&&(i=this._childRouter.deactivate(r)),h.isPresent(this._outlet)&&(i=i.then(function(t){return e._outlet.deactivate(n)})),i},t.prototype.recognize=function(t){var e=this._getAncestorInstructions();return this.registry.recognize(t,e)},t.prototype._getAncestorInstructions=function(){for(var t=[this.currentInstruction],e=this;h.isPresent(e=e.parent);)t.unshift(e.currentInstruction);return t},t.prototype.renavigate=function(){return h.isBlank(this.lastNavigationAttempt)?this._currentNavigation:this.navigateByUrl(this.lastNavigationAttempt)},t.prototype.generate=function(t){var e=this._getAncestorInstructions();return this.registry.generate(t,e)},t=o([b.Injectable(),s("design:paramtypes",[f.RouteRegistry,t,Object,t])],t)}();e.Router=m;var _=function(t){function e(e,r,n){var i=this;t.call(this,e,null,n),this.root=this,this._location=r,this._locationSub=this._location.subscribe(function(t){i.recognize(t.url).then(function(e){h.isPresent(e)?i.navigateByInstruction(e,h.isPresent(t.pop)).then(function(r){if(!h.isPresent(t.pop)||"hashchange"==t.type){var n=e.toUrlPath(),o=e.toUrlQuery();n.length>0&&"/"!=n[0]&&(n="/"+n),"hashchange"==t.type?e.toRootUrl()!=i._location.path()&&i._location.replaceState(n,o):i._location.go(n,o)}}):i._emitNavigationFail(t.url)})}),this.registry.configFromComponent(n),this.navigateByUrl(r.path())}return i(e,t),e.prototype.commit=function(e,r){var n=this;void 0===r&&(r=!1);var i=e.toUrlPath(),o=e.toUrlQuery();i.length>0&&"/"!=i[0]&&(i="/"+i);var s=t.prototype.commit.call(this,e);return r||(s=s.then(function(t){n._location.go(i,o)})),s},e.prototype.dispose=function(){h.isPresent(this._locationSub)&&(u.ObservableWrapper.dispose(this._locationSub),this._locationSub=null)},e=o([b.Injectable(),c(2,b.Inject(f.ROUTER_PRIMARY_COMPONENT)),s("design:paramtypes",[f.RouteRegistry,l.Location,h.Type])],e)}(m);e.RootRouter=_;var g=function(t){function e(e,r){t.call(this,e.registry,e,r,e.root),this.parent=e}return i(e,t),e.prototype.navigateByUrl=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByUrl(t,e)},e.prototype.navigateByInstruction=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByInstruction(t,e)},e}(m)},[940,305,306],7,36,[939,305],[937,309,310,310],function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(e){t.call(this,e)}return r(e,t),Object.defineProperty(e.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),e}(Error);e.BaseWrappedException=n},[938,305,309,307],function(t,e,r){"use strict";function n(t){var e=[];return t.forEach(function(t){if(l.isString(t)){var r=t;e=e.concat(r.split("/"))}else e.push(t)}),e}function i(t){if(t=t.filter(function(t){return l.isPresent(t)}),0==t.length)return null;if(1==t.length)return t[0];var e=t[0],r=t.slice(1);return r.reduce(function(t,e){return-1==o(e.specificity,t.specificity)?e:t},e)}function o(t,e){for(var r=l.Math.min(t.length,e.length),n=0;r>n;n+=1){var i=l.StringWrapper.charCodeAt(t,n),o=l.StringWrapper.charCodeAt(e,n),s=o-i;if(0!=s)return s}return t.length-e.length}function s(t,e){if(l.isType(t)){var r=d.reflector.annotations(t);if(l.isPresent(r))for(var n=0;n<r.length;n++){var i=r[n];if(i instanceof b.RouteConfig)throw new f.BaseException('Child routes are not allowed for "'+e+'". Use "..." on the parent\'s route path.')}}}var c=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},u=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},a=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},h=r(307),p=r(304),l=r(305),f=r(308),d=r(4),b=r(312),y=r(313),v=r(316),m=r(315),_=r(323),g=r(314),w=p.PromiseWrapper.resolve(null);e.ROUTER_PRIMARY_COMPONENT=new d.OpaqueToken("RouterPrimaryComponent");var O=function(){function t(t){this._rootComponent=t,this._rules=new h.Map}return t.prototype.config=function(t,e){e=_.normalizeRouteConfig(e,this),e instanceof b.Route?_.assertComponentExists(e.component,e.path):e instanceof b.AuxRoute&&_.assertComponentExists(e.component,e.path);var r=this._rules.get(t);l.isBlank(r)&&(r=new v.RuleSet,this._rules.set(t,r));var n=r.config(e);e instanceof b.Route&&(n?s(e.component,e.path):this.configFromComponent(e.component))},t.prototype.configFromComponent=function(t){var e=this;if(l.isType(t)&&!this._rules.has(t)){var r=d.reflector.annotations(t);if(l.isPresent(r))for(var n=0;n<r.length;n++){var i=r[n];if(i instanceof b.RouteConfig){var o=i.configs;o.forEach(function(r){return e.config(t,r)})}}}},t.prototype.recognize=function(t,e){var r=g.parser.parse(t);return this._recognize(r,[])},t.prototype._recognize=function(t,e,r){var n=this;void 0===r&&(r=!1);var o=h.ListWrapper.last(e),s=l.isPresent(o)?o.component.componentType:this._rootComponent,c=this._rules.get(s);if(l.isBlank(c))return w;var u=r?c.recognizeAuxiliary(t):c.recognize(t),a=u.map(function(t){return t.then(function(t){if(t instanceof y.PathMatch){var r=e.length>0?[h.ListWrapper.last(e)]:[],i=n._auxRoutesToUnresolved(t.remainingAux,r),o=new m.ResolvedInstruction(t.instruction,null,i);if(l.isBlank(t.instruction)||t.instruction.terminal)return o;var s=e.concat([o]);return n._recognize(t.remaining,s).then(function(t){return l.isBlank(t)?null:t instanceof m.RedirectInstruction?t:(o.child=t,o)})}if(t instanceof y.RedirectMatch){var o=n.generate(t.redirectTo,e.concat([null]));return new m.RedirectInstruction(o.component,o.child,o.auxInstruction,t.specificity)}})});return!l.isBlank(t)&&""!=t.path||0!=u.length?p.PromiseWrapper.all(a).then(i):p.PromiseWrapper.resolve(this.generateDefault(s))},t.prototype._auxRoutesToUnresolved=function(t,e){var r=this,n={};return t.forEach(function(t){n[t.path]=new m.UnresolvedInstruction(function(){return r._recognize(t,e,!0)})}),n},t.prototype.generate=function(t,e,r){void 0===r&&(r=!1);var i,o=n(t);if(""==h.ListWrapper.first(o))o.shift(),i=h.ListWrapper.first(e),e=[];else if(i=e.length>0?e.pop():null,"."==h.ListWrapper.first(o))o.shift();else if(".."==h.ListWrapper.first(o))for(;".."==h.ListWrapper.first(o);){if(e.length<=0)throw new f.BaseException('Link "'+h.ListWrapper.toJSON(t)+'" has too many "../" segments.');i=e.pop(),o=h.ListWrapper.slice(o,1)}else{var s=h.ListWrapper.first(o),c=this._rootComponent,u=null;if(e.length>1){var a=e[e.length-1],p=e[e.length-2];c=a.component.componentType,u=p.component.componentType}else 1==e.length&&(c=e[0].component.componentType,u=this._rootComponent);var d=this.hasRoute(s,c),b=l.isPresent(u)&&this.hasRoute(s,u);if(b&&d){var y='Link "'+h.ListWrapper.toJSON(t)+'" is ambiguous, use "./" or "../" to disambiguate.';throw new f.BaseException(y)}b&&(i=e.pop())}if(""==o[o.length-1]&&o.pop(),o.length>0&&""==o[0]&&o.shift(),o.length<1){var y='Link "'+h.ListWrapper.toJSON(t)+'" must include a route name.';throw new f.BaseException(y)}for(var v=this._generate(o,e,i,r,t),m=e.length-1;m>=0;m--){var _=e[m];if(l.isBlank(_))break;v=_.replaceChild(v)}return v},t.prototype._generate=function(t,e,r,n,i){var o=this;void 0===n&&(n=!1);var s=this._rootComponent,c=null,u={},a=h.ListWrapper.last(e);if(l.isPresent(a)&&l.isPresent(a.component)&&(s=a.component.componentType),0==t.length){var p=this.generateDefault(s);if(l.isBlank(p))throw new f.BaseException('Link "'+h.ListWrapper.toJSON(i)+'" does not resolve to a terminal instruction.');return p}l.isPresent(r)&&!n&&(u=h.StringMapWrapper.merge(r.auxInstruction,u),c=r.component);var d=this._rules.get(s);if(l.isBlank(d))throw new f.BaseException('Component "'+l.getTypeNameForDebugging(s)+'" has no route config.');var b=0,y={};if(b<t.length&&l.isString(t[b])){var v=t[b];if(""==v||"."==v||".."==v)throw new f.BaseException('"'+v+'/" is only allowed at the beginning of a link DSL.');if(b+=1,b<t.length){var _=t[b];l.isStringMap(_)&&!l.isArray(_)&&(y=_,b+=1)}var w=(n?d.auxRulesByName:d.rulesByName).get(v);if(l.isBlank(w))throw new f.BaseException('Component "'+l.getTypeNameForDebugging(s)+'" has no route named "'+v+'".');if(l.isBlank(w.handler.componentType)){var O=w.generateComponentPathValues(y);return new m.UnresolvedInstruction(function(){return w.handler.resolveComponentType().then(function(s){return o._generate(t,e,r,n,i)})},O.urlPath,g.convertUrlParamsToArray(O.urlParams))}c=n?d.generateAuxiliary(v,y):d.generate(v,y)}for(;b<t.length&&l.isArray(t[b]);){var x=[a],S=this._generate(t[b],x,null,!0,i);u[S.component.urlPath]=S,b+=1}var R=new m.ResolvedInstruction(c,null,u);if(l.isPresent(c)&&l.isPresent(c.componentType)){var P=null;if(c.terminal)b>=t.length;else{var j=e.concat([R]),C=t.slice(b);P=this._generate(C,j,null,!1,i)}R.child=P}return R},t.prototype.hasRoute=function(t,e){var r=this._rules.get(e);return l.isBlank(r)?!1:r.hasRoute(t)},t.prototype.generateDefault=function(t){var e=this;if(l.isBlank(t))return null;var r=this._rules.get(t);if(l.isBlank(r)||l.isBlank(r.defaultRule))return null;var n=null;if(l.isPresent(r.defaultRule.handler.componentType)){var i=r.defaultRule.generate({});return r.defaultRule.terminal||(n=this.generateDefault(r.defaultRule.handler.componentType)),new m.DefaultInstruction(i,n)}return new m.UnresolvedInstruction(function(){return r.defaultRule.handler.resolveComponentType().then(function(r){return e.generateDefault(t)})})},t=c([d.Injectable(),a(0,d.Inject(e.ROUTER_PRIMARY_COMPONENT)),u("design:paramtypes",[l.Type])],t)}();e.RouteRegistry=O},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(){function t(t){this.configs=t}return t}();e.RouteConfig=n;var i=function(){function t(t){var e=t.name,r=t.useAsDefault,n=t.path,i=t.regex,o=t.serializer,s=t.data;this.name=e,this.useAsDefault=r,this.path=n,this.regex=i,this.serializer=o,this.data=s}return t}();e.AbstractRoute=i;var o=function(t){function e(e){var r=e.name,n=e.useAsDefault,i=e.path,o=e.regex,s=e.serializer,c=e.data,u=e.component;t.call(this,{name:r,useAsDefault:n,path:i,regex:o,serializer:s,data:c}),this.aux=null,this.component=u}return r(e,t),e}(i);e.Route=o;var s=function(t){function e(e){var r=e.name,n=e.useAsDefault,i=e.path,o=e.regex,s=e.serializer,c=e.data,u=e.component;t.call(this,{name:r,useAsDefault:n,path:i,regex:o,serializer:s,data:c}),this.component=u}return r(e,t),e}(i);e.AuxRoute=s;var c=function(t){function e(e){var r=e.name,n=e.useAsDefault,i=e.path,o=e.regex,s=e.serializer,c=e.data,u=e.loader;t.call(this,{name:r,useAsDefault:n,path:i,regex:o,serializer:s,data:c}),this.aux=null,this.loader=u}return r(e,t),e}(i);e.AsyncRoute=c;var u=function(t){function e(e){var r=e.name,n=e.useAsDefault,i=e.path,o=e.regex,s=e.serializer,c=e.data,u=e.redirectTo;t.call(this,{name:r,useAsDefault:n,path:i,regex:o,serializer:s,data:c}),this.redirectTo=u}return r(e,t),e}(i);e.Redirect=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(305),o=r(308),s=r(306),c=r(307),u=r(314),a=r(315),h=function(){function t(){}return t}();e.RouteMatch=h;var p=function(t){function e(e,r,n){t.call(this),this.instruction=e,this.remaining=r,this.remainingAux=n}return n(e,t),e}(h);e.PathMatch=p;var l=function(t){function e(e,r){t.call(this),this.redirectTo=e,this.specificity=r}return n(e,t),e}(h);e.RedirectMatch=l;var f=function(){function t(t,e){this._pathRecognizer=t,this.redirectTo=e,this.hash=this._pathRecognizer.hash}return Object.defineProperty(t.prototype,"path",{get:function(){return this._pathRecognizer.toString()},set:function(t){throw new o.BaseException("you cannot set the path of a RedirectRule directly")},enumerable:!0,configurable:!0}),t.prototype.recognize=function(t){var e=null;return i.isPresent(this._pathRecognizer.matchUrl(t))&&(e=new l(this.redirectTo,this._pathRecognizer.specificity)),s.PromiseWrapper.resolve(e)},t.prototype.generate=function(t){throw new o.BaseException("Tried to generate a redirect.")},t}();e.RedirectRule=f;var d=function(){function t(t,e,r){this._routePath=t,this.handler=e,this._routeName=r,this._cache=new c.Map,this.specificity=this._routePath.specificity,this.hash=this._routePath.hash,this.terminal=this._routePath.terminal}return Object.defineProperty(t.prototype,"path",{get:function(){return this._routePath.toString()},set:function(t){throw new o.BaseException("you cannot set the path of a RouteRule directly")},enumerable:!0,configurable:!0}),t.prototype.recognize=function(t){var e=this,r=this._routePath.matchUrl(t);return i.isBlank(r)?null:this.handler.resolveComponentType().then(function(t){var n=e._getInstruction(r.urlPath,r.urlParams,r.allParams);return new p(n,r.rest,r.auxiliary)})},t.prototype.generate=function(t){var e=this._routePath.generateUrl(t),r=e.urlPath,n=e.urlParams;return this._getInstruction(r,u.convertUrlParamsToArray(n),t)},t.prototype.generateComponentPathValues=function(t){return this._routePath.generateUrl(t)},t.prototype._getInstruction=function(t,e,r){if(i.isBlank(this.handler.componentType))throw new o.BaseException("Tried to get instruction before the type was loaded.");var n=t+"?"+e.join("&");if(this._cache.has(n))return this._cache.get(n);var s=new a.ComponentInstruction(t,e,this.handler.data,this.handler.componentType,this.terminal,this.specificity,r,this._routeName);return this._cache.set(n,s),s},t}();e.RouteRule=d},function(t,e,r){"use strict";function n(t){var e=[];return h.isBlank(t)?[]:(a.StringMapWrapper.forEach(t,function(t,r){e.push(t===!0?r:r+"="+t)}),e)}function i(t,e){return void 0===e&&(e="&"),n(t).join(e)}function o(t){for(var e=new l(t[t.length-1]),r=t.length-2;r>=0;r-=1)e=new l(t[r],e);return e}function s(t){var e=h.RegExpWrapper.firstMatch(d,t);return h.isPresent(e)?e[0]:""}function c(t){var e=h.RegExpWrapper.firstMatch(b,t);return h.isPresent(e)?e[0]:""}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=r(307),h=r(305),p=r(308);e.convertUrlParamsToArray=n,e.serializeParams=i;var l=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=[]),void 0===n&&(n={}),this.path=t,this.child=e,this.auxiliary=r,this.params=n}return t.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},t.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},t.prototype._auxToString=function(){return this.auxiliary.length>0?"("+this.auxiliary.map(function(t){return t.toString()}).join("//")+")":""},t.prototype._matrixParamsToString=function(){var t=i(this.params,";");return t.length>0?";"+t:""},t.prototype._childString=function(){return h.isPresent(this.child)?"/"+this.child.toString():""},t}();e.Url=l;var f=function(t){function e(e,r,n,i){void 0===r&&(r=null),void 0===n&&(n=[]),void 0===i&&(i=null),t.call(this,e,r,n,i)}return u(e,t),e.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()},e.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},e.prototype._queryParamsToString=function(){return h.isBlank(this.params)?"":"?"+i(this.params)},e}(l);e.RootUrl=f,e.pathSegmentsToUrl=o;var d=h.RegExpWrapper.create("^[^\\/\\(\\)\\?;=&#]+"),b=h.RegExpWrapper.create("^[^\\(\\)\\?;&#]+"),y=function(){function t(){}return t.prototype.peekStartsWith=function(t){return this._remaining.startsWith(t)},t.prototype.capture=function(t){if(!this._remaining.startsWith(t))throw new p.BaseException('Expected "'+t+'".');this._remaining=this._remaining.substring(t.length)},t.prototype.parse=function(t){return this._remaining=t,""==t||"/"==t?new l(""):this.parseRoot()},t.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var t=s(this._remaining);this.capture(t);var e=[];this.peekStartsWith("(")&&(e=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var r=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),r=this.parseSegment());var n=null;return this.peekStartsWith("?")&&(n=this.parseQueryParams()),new f(t,r,e,n)},t.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var t=s(this._remaining);this.capture(t);var e=null;this.peekStartsWith(";")&&(e=this.parseMatrixParams());var r=[];this.peekStartsWith("(")&&(r=this.parseAuxiliaryRoutes());var n=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),n=this.parseSegment()),new l(t,n,r,e)},t.prototype.parseQueryParams=function(){var t={};for(this.capture("?"),this.parseQueryParam(t);this._remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(t);return t},t.prototype.parseMatrixParams=function(){for(var t={};this._remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=s(this._remaining);if(!h.isBlank(e)){this.capture(e);var r=!0;if(this.peekStartsWith("=")){this.capture("=");var n=s(this._remaining);h.isPresent(n)&&(r=n,this.capture(r))}t[e]=r}},t.prototype.parseQueryParam=function(t){var e=s(this._remaining);if(!h.isBlank(e)){this.capture(e);var r=!0;if(this.peekStartsWith("=")){this.capture("=");var n=c(this._remaining);h.isPresent(n)&&(r=n,this.capture(r))}t[e]=r}},t.prototype.parseAuxiliaryRoutes=function(){var t=[];for(this.capture("(");!this.peekStartsWith(")")&&this._remaining.length>0;)t.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),t},t}();e.UrlParser=y,e.parser=new y},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(307),o=r(305),s=r(304),c=function(){function t(t){this.params=t}return t.prototype.get=function(t){return o.normalizeBlank(i.StringMapWrapper.get(this.params,t))},t}();e.RouteParams=c;var u=function(){function t(t){void 0===t&&(t={}),this.data=t}return t.prototype.get=function(t){return o.normalizeBlank(i.StringMapWrapper.get(this.data,t))},t}();e.RouteData=u,e.BLANK_ROUTE_DATA=new u;var a=function(){function t(t,e,r){this.component=t,this.child=e,this.auxInstruction=r}return Object.defineProperty(t.prototype,"urlPath",{get:function(){return o.isPresent(this.component)?this.component.urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlParams",{get:function(){return o.isPresent(this.component)?this.component.urlParams:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specificity",{get:function(){var t="";return o.isPresent(this.component)&&(t+=this.component.specificity),o.isPresent(this.child)&&(t+=this.child.specificity),t},enumerable:!0,configurable:!0}),t.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery()},t.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(o.isPresent(this.child)?this.child._toNonRootUrl():"")},t.prototype.toUrlQuery=function(){return this.urlParams.length>0?"?"+this.urlParams.join("&"):""},t.prototype.replaceChild=function(t){return new h(this.component,t,this.auxInstruction)},t.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(o.isPresent(this.child)?this.child._toNonRootUrl():"")},t.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(o.isPresent(this.child)?this.child._toLinkUrl():"")+this.toUrlQuery()},t.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(o.isPresent(this.child)?this.child._toLinkUrl():"")},t.prototype._stringifyPathMatrixAuxPrefixed=function(){var t=this._stringifyPathMatrixAux();return t.length>0&&(t="/"+t),t},t.prototype._stringifyMatrixParams=function(){return this.urlParams.length>0?";"+this.urlParams.join(";"):""},t.prototype._stringifyPathMatrixAux=function(){return o.isBlank(this.component)?"":this.urlPath+this._stringifyMatrixParams()+this._stringifyAux()},t.prototype._stringifyAux=function(){var t=[];return i.StringMapWrapper.forEach(this.auxInstruction,function(e,r){t.push(e._stringifyPathMatrixAux())}),t.length>0?"("+t.join("//")+")":""},t}();e.Instruction=a;var h=function(t){function e(e,r,n){t.call(this,e,r,n)}return n(e,t),e.prototype.resolveComponent=function(){return s.PromiseWrapper.resolve(this.component)},e}(a);e.ResolvedInstruction=h;var p=function(t){function e(e,r){t.call(this,e,r,{})}return n(e,t),e.prototype.toLinkUrl=function(){return""},e.prototype._toLinkUrl=function(){return""},e}(h);e.DefaultInstruction=p;var l=function(t){function e(e,r,n){void 0===r&&(r=""),void 0===n&&(n=[]),t.call(this,null,null,{}),this._resolver=e,this._urlPath=r,this._urlParams=n}return n(e,t),Object.defineProperty(e.prototype,"urlPath",{get:function(){return o.isPresent(this.component)?this.component.urlPath:o.isPresent(this._urlPath)?this._urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlParams",{get:function(){return o.isPresent(this.component)?this.component.urlParams:o.isPresent(this._urlParams)?this._urlParams:[]},enumerable:!0,configurable:!0}),e.prototype.resolveComponent=function(){var t=this;return o.isPresent(this.component)?s.PromiseWrapper.resolve(this.component):this._resolver().then(function(e){return t.child=o.isPresent(e)?e.child:null,t.component=o.isPresent(e)?e.component:null})},e}(a);e.UnresolvedInstruction=l;var f=function(t){function e(e,r,n,i){t.call(this,e,r,n),this._specificity=i}return n(e,t),Object.defineProperty(e.prototype,"specificity",{get:function(){return this._specificity},enumerable:!0,configurable:!0}),e}(h);e.RedirectInstruction=f;var d=function(){function t(t,r,n,i,s,c,u,a){void 0===u&&(u=null),this.urlPath=t,this.urlParams=r,this.componentType=i,this.terminal=s,this.specificity=c,this.params=u,this.routeName=a,this.reuse=!1,this.routeData=o.isPresent(n)?n:e.BLANK_ROUTE_DATA}return t}();e.ComponentInstruction=d},function(t,e,r){"use strict";var n=r(305),i=r(308),o=r(307),s=r(304),c=r(313),u=r(312),a=r(317),h=r(318),p=r(319),l=r(322),f=function(){function t(){this.rulesByName=new o.Map,this.auxRulesByName=new o.Map,this.auxRulesByPath=new o.Map,this.rules=[],this.defaultRule=null}return t.prototype.config=function(t){var e;if(n.isPresent(t.name)&&t.name[0].toUpperCase()!=t.name[0]){var r=t.name[0].toUpperCase()+t.name.substring(1);throw new i.BaseException('Route "'+t.path+'" with name "'+t.name+'" does not begin with an uppercase letter. Route names should be CamelCase like "'+r+'".')}if(t instanceof u.AuxRoute){e=new h.SyncRouteHandler(t.component,t.data);var o=this._getRoutePath(t),s=new c.RouteRule(o,e,t.name);return this.auxRulesByPath.set(o.toString(),s),n.isPresent(t.name)&&this.auxRulesByName.set(t.name,s),s.terminal}var p=!1;if(t instanceof u.Redirect){
var l=this._getRoutePath(t),f=new c.RedirectRule(l,t.redirectTo);return this._assertNoHashCollision(f.hash,t.path),this.rules.push(f),!0}t instanceof u.Route?(e=new h.SyncRouteHandler(t.component,t.data),p=n.isPresent(t.useAsDefault)&&t.useAsDefault):t instanceof u.AsyncRoute&&(e=new a.AsyncRouteHandler(t.loader,t.data),p=n.isPresent(t.useAsDefault)&&t.useAsDefault);var d=this._getRoutePath(t),b=new c.RouteRule(d,e,t.name);if(this._assertNoHashCollision(b.hash,t.path),p){if(n.isPresent(this.defaultRule))throw new i.BaseException("Only one route can be default");this.defaultRule=b}return this.rules.push(b),n.isPresent(t.name)&&this.rulesByName.set(t.name,b),b.terminal},t.prototype.recognize=function(t){var e=[];return this.rules.forEach(function(r){var i=r.recognize(t);n.isPresent(i)&&e.push(i)}),0==e.length&&n.isPresent(t)&&t.auxiliary.length>0?[s.PromiseWrapper.resolve(new c.PathMatch(null,null,t.auxiliary))]:e},t.prototype.recognizeAuxiliary=function(t){var e=this.auxRulesByPath.get(t.path);return n.isPresent(e)?[e.recognize(t)]:[s.PromiseWrapper.resolve(null)]},t.prototype.hasRoute=function(t){return this.rulesByName.has(t)},t.prototype.componentLoaded=function(t){return this.hasRoute(t)&&n.isPresent(this.rulesByName.get(t).handler.componentType)},t.prototype.loadComponent=function(t){return this.rulesByName.get(t).handler.resolveComponentType()},t.prototype.generate=function(t,e){var r=this.rulesByName.get(t);return n.isBlank(r)?null:r.generate(e)},t.prototype.generateAuxiliary=function(t,e){var r=this.auxRulesByName.get(t);return n.isBlank(r)?null:r.generate(e)},t.prototype._assertNoHashCollision=function(t,e){this.rules.forEach(function(r){if(t==r.hash)throw new i.BaseException("Configuration '"+e+"' conflicts with existing route '"+r.path+"'")})},t.prototype._getRoutePath=function(t){if(n.isPresent(t.regex)){if(n.isFunction(t.serializer))return new l.RegexRoutePath(t.regex,t.serializer);throw new i.BaseException("Route provides a regex property, '"+t.regex+"', but no serializer property")}if(n.isPresent(t.path)){var e=t instanceof u.AuxRoute&&t.path.startsWith("/")?t.path.substring(1):t.path;return new p.ParamRoutePath(e)}throw new i.BaseException("Route must provide either a path or regex property")},t}();e.RuleSet=f},function(t,e,r){"use strict";var n=r(305),i=r(315),o=function(){function t(t,e){void 0===e&&(e=null),this._loader=t,this._resolvedComponent=null,this.data=n.isPresent(e)?new i.RouteData(e):i.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){var t=this;return n.isPresent(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(e){return t.componentType=e,e})},t}();e.AsyncRouteHandler=o},function(t,e,r){"use strict";var n=r(304),i=r(305),o=r(315),s=function(){function t(t,e){this.componentType=t,this._resolvedComponent=null,this._resolvedComponent=n.PromiseWrapper.resolve(t),this.data=i.isPresent(e)?new o.RouteData(e):o.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){return this._resolvedComponent},t}();e.SyncRouteHandler=s},function(t,e,r){"use strict";function n(t){return o.isBlank(t)?null:(t=o.StringWrapper.replaceAll(t,y,"%25"),t=o.StringWrapper.replaceAll(t,v,"%2F"),t=o.StringWrapper.replaceAll(t,m,"%28"),t=o.StringWrapper.replaceAll(t,_,"%29"),t=o.StringWrapper.replaceAll(t,g,"%3B"))}function i(t){return o.isBlank(t)?null:(t=o.StringWrapper.replaceAll(t,w,";"),t=o.StringWrapper.replaceAll(t,O,")"),t=o.StringWrapper.replaceAll(t,x,"("),t=o.StringWrapper.replaceAll(t,S,"/"),t=o.StringWrapper.replaceAll(t,R,"%"))}var o=r(305),s=r(308),c=r(307),u=r(320),a=r(314),h=r(321),p=function(){function t(){this.name="",this.specificity="",this.hash="..."}return t.prototype.generate=function(t){return""},t.prototype.match=function(t){return!0},t}(),l=function(){function t(t){this.path=t,this.name="",this.specificity="2",this.hash=t}return t.prototype.match=function(t){return t==this.path},t.prototype.generate=function(t){return this.path},t}(),f=function(){function t(t){this.name=t,this.specificity="1",this.hash=":"}return t.prototype.match=function(t){return t.length>0},t.prototype.generate=function(t){if(!c.StringMapWrapper.contains(t.map,this.name))throw new s.BaseException("Route generator for '"+this.name+"' was not included in parameters passed.");return n(u.normalizeString(t.get(this.name)))},t.paramMatcher=/^:([^\/]+)$/g,t}(),d=function(){function t(t){this.name=t,this.specificity="0",this.hash="*"}return t.prototype.match=function(t){return!0},t.prototype.generate=function(t){return u.normalizeString(t.get(this.name))},t.wildcardMatcher=/^\*([^\/]+)$/g,t}(),b=function(){function t(t){this.routePath=t,this.terminal=!0,this._assertValidPath(t),this._parsePathString(t),this.specificity=this._calculateSpecificity(),this.hash=this._calculateHash();var e=this._segments[this._segments.length-1];this.terminal=!(e instanceof p)}return t.prototype.matchUrl=function(t){for(var e,r=t,n={},s=[],u=0;u<this._segments.length;u+=1){var l=this._segments[u];if(e=r,l instanceof p)break;if(o.isPresent(e)){if(l instanceof d){n[l.name]=e.toString(),s.push(e.toString()),r=null;break}if(s.push(e.path),l instanceof f)n[l.name]=i(e.path);else if(!l.match(e.path))return null;r=e.child}else if(!l.match(""))return null}if(this.terminal&&o.isPresent(r))return null;var b=s.join("/"),y=[],v=[],m=n;if(o.isPresent(e)){var _=t instanceof a.RootUrl?t:e;o.isPresent(_.params)?(m=c.StringMapWrapper.merge(_.params,n),v=a.convertUrlParamsToArray(_.params)):m=n,y=e.auxiliary}return new h.MatchedUrl(b,v,m,y,r)},t.prototype.generateUrl=function(t){for(var e=new u.TouchMap(t),r=[],n=0;n<this._segments.length;n++){var i=this._segments[n];i instanceof p||r.push(i.generate(e))}var o=r.join("/"),s=e.getUnused(),c=s;return new h.GeneratedUrl(o,c)},t.prototype.toString=function(){return this.routePath},t.prototype._parsePathString=function(t){t.startsWith("/")&&(t=t.substring(1));var e=t.split("/");this._segments=[];for(var r=e.length-1,n=0;r>=n;n++){var i,c=e[n];if(o.isPresent(i=o.RegExpWrapper.firstMatch(f.paramMatcher,c)))this._segments.push(new f(i[1]));else if(o.isPresent(i=o.RegExpWrapper.firstMatch(d.wildcardMatcher,c)))this._segments.push(new d(i[1]));else if("..."==c){if(r>n)throw new s.BaseException('Unexpected "..." before the end of the path for "'+t+'".');this._segments.push(new p)}else this._segments.push(new l(c))}},t.prototype._calculateSpecificity=function(){var t,e,r=this._segments.length;if(0==r)e+="2";else for(e="",t=0;r>t;t++)e+=this._segments[t].specificity;return e},t.prototype._calculateHash=function(){var t,e=this._segments.length,r=[];for(t=0;e>t;t++)r.push(this._segments[t].hash);return r.join("/")},t.prototype._assertValidPath=function(e){if(o.StringWrapper.contains(e,"#"))throw new s.BaseException('Path "'+e+'" should not include "#". Use "HashLocationStrategy" instead.');var r=o.RegExpWrapper.firstMatch(t.RESERVED_CHARS,e);if(o.isPresent(r))throw new s.BaseException('Path "'+e+'" contains "'+r[0]+'" which is not allowed in a route config.')},t.RESERVED_CHARS=o.RegExpWrapper.create("//|\\(|\\)|;|\\?|="),t}();e.ParamRoutePath=b;var y=/%/g,v=/\//g,m=/\(/g,_=/\)/g,g=/;/g,w=/%3B/gi,O=/%29/gi,x=/%28/gi,S=/%2F/gi,R=/%25/gi},function(t,e,r){"use strict";function n(t){return i.isBlank(t)?null:t.toString()}var i=r(305),o=r(307),s=function(){function t(t){var e=this;this.map={},this.keys={},i.isPresent(t)&&o.StringMapWrapper.forEach(t,function(t,r){e.map[r]=i.isPresent(t)?t.toString():null,e.keys[r]=!0})}return t.prototype.get=function(t){return o.StringMapWrapper["delete"](this.keys,t),this.map[t]},t.prototype.getUnused=function(){var t=this,e={},r=o.StringMapWrapper.keys(this.keys);return r.forEach(function(r){return e[r]=o.StringMapWrapper.get(t.map,r)}),e},t}();e.TouchMap=s,e.normalizeString=n},function(t,e){"use strict";var r=function(){function t(t,e,r,n,i){this.urlPath=t,this.urlParams=e,this.allParams=r,this.auxiliary=n,this.rest=i}return t}();e.MatchedUrl=r;var n=function(){function t(t,e){this.urlPath=t,this.urlParams=e}return t}();e.GeneratedUrl=n},function(t,e,r){"use strict";var n=r(305),i=r(321),o=function(){function t(t,e){this._reString=t,this._serializer=e,this.terminal=!0,this.specificity="2",this.hash=this._reString,this._regex=n.RegExpWrapper.create(this._reString)}return t.prototype.matchUrl=function(t){var e=t.toString(),r={},o=n.RegExpWrapper.matcher(this._regex,e),s=n.RegExpMatcherWrapper.next(o);if(n.isBlank(s))return null;for(var c=0;c<s.length;c+=1)r[c.toString()]=s[c];return new i.MatchedUrl(e,[],r,[],null)},t.prototype.generateUrl=function(t){return this._serializer(t)},t.prototype.toString=function(){return this._reString},t}();e.RegexRoutePath=o},function(t,e,r){"use strict";function n(t,e){if(t instanceof s.AsyncRoute){var r=i(t.loader,e);return new s.AsyncRoute({path:t.path,loader:r,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t instanceof s.Route||t instanceof s.Redirect||t instanceof s.AuxRoute)return t;if(+!!t.component+ +!!t.redirectTo+ +!!t.loader!=1)throw new u.BaseException('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(t.as&&t.name)throw new u.BaseException('Route config should contain exactly one "as" or "name" property.');if(t.as&&(t.name=t.as),t.loader){var r=i(t.loader,e);return new s.AsyncRoute({path:t.path,loader:r,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t.aux)return new s.AuxRoute({path:t.aux,component:t.component,name:t.name});if(t.component){if("object"==typeof t.component){var n=t.component;if("constructor"==n.type)return new s.Route({path:t.path,component:n.constructor,name:t.name,data:t.data,useAsDefault:t.useAsDefault});if("loader"==n.type)return new s.AsyncRoute({path:t.path,loader:n.loader,name:t.name,data:t.data,useAsDefault:t.useAsDefault});throw new u.BaseException('Invalid component type "'+n.type+'". Valid types are "constructor" and "loader".')}return new s.Route(t)}return t.redirectTo?new s.Redirect({path:t.path,redirectTo:t.redirectTo}):t}function i(t,e){return function(){return t().then(function(t){return e.configFromComponent(t),t})}}function o(t,e){if(!c.isType(t))throw new u.BaseException('Component for route "'+e+'" is not defined, or is not a class.')}var s=r(324),c=r(305),u=r(308);e.normalizeRouteConfig=n,e.assertComponentExists=o},function(t,e,r){"use strict";var n=r(312),i=r(325),o=r(312);e.Route=o.Route,e.Redirect=o.Redirect,e.AuxRoute=o.AuxRoute,e.AsyncRoute=o.AsyncRoute,e.RouteConfig=i.makeDecorator(n.RouteConfig)},930,function(t,e,r){"use strict";function n(t,e){return e instanceof o.Type?t.name in e.prototype:!1}function i(t){for(var e=c.reflector.annotations(t),r=0;r<e.length;r+=1){var n=e[r];if(n instanceof s.CanActivate)return n.fn}return null}var o=r(4),s=r(327),c=r(4);e.hasLifecycleHook=n,e.getCanActivateHook=i},function(t,e){"use strict";var r=function(){function t(t){this.name=t}return t}();e.RouteLifecycleHook=r;var n=function(){function t(t){this.fn=t}return t}();e.CanActivate=n,e.routerCanReuse=new r("routerCanReuse"),e.routerCanDeactivate=new r("routerCanDeactivate"),e.routerOnActivate=new r("routerOnActivate"),e.routerOnReuse=new r("routerOnReuse"),e.routerOnDeactivate=new r("routerOnDeactivate")},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},s=r(304),c=r(307),u=r(305),a=r(4),h=r(303),p=r(315),l=r(329),f=r(326),d=s.PromiseWrapper.resolve(!0),b=function(){function t(t,e,r,n){this._viewContainerRef=t,this._loader=e,this._parentRouter=r,this.name=null,this._componentRef=null,this._currentInstruction=null,this.activateEvents=new s.EventEmitter,u.isPresent(n)?(this.name=n,this._parentRouter.registerAuxOutlet(this)):this._parentRouter.registerPrimaryOutlet(this)}return t.prototype.activate=function(t){var e=this,r=this._currentInstruction;this._currentInstruction=t;var n=t.componentType,i=this._parentRouter.childRouter(n),o=a.ReflectiveInjector.resolve([a.provide(p.RouteData,{useValue:t.routeData}),a.provide(p.RouteParams,{useValue:new p.RouteParams(t.params)}),a.provide(h.Router,{useValue:i})]);return this._componentRef=this._loader.loadNextToLocation(n,this._viewContainerRef,o),this._componentRef.then(function(i){return e.activateEvents.emit(i.instance),f.hasLifecycleHook(l.routerOnActivate,n)?e._componentRef.then(function(e){return e.instance.routerOnActivate(t,r)}):i})},t.prototype.reuse=function(t){var e=this._currentInstruction;return this._currentInstruction=t,u.isBlank(this._componentRef)?this.activate(t):s.PromiseWrapper.resolve(f.hasLifecycleHook(l.routerOnReuse,this._currentInstruction.componentType)?this._componentRef.then(function(r){return r.instance.routerOnReuse(t,e)}):!0)},t.prototype.deactivate=function(t){var e=this,r=d;return u.isPresent(this._componentRef)&&u.isPresent(this._currentInstruction)&&f.hasLifecycleHook(l.routerOnDeactivate,this._currentInstruction.componentType)&&(r=this._componentRef.then(function(r){return r.instance.routerOnDeactivate(t,e._currentInstruction)})),r.then(function(t){if(u.isPresent(e._componentRef)){var r=e._componentRef.then(function(t){return t.destroy()});return e._componentRef=null,r}})},t.prototype.routerCanDeactivate=function(t){var e=this;return u.isBlank(this._currentInstruction)?d:f.hasLifecycleHook(l.routerCanDeactivate,this._currentInstruction.componentType)?this._componentRef.then(function(r){return r.instance.routerCanDeactivate(t,e._currentInstruction)}):d},t.prototype.routerCanReuse=function(t){var e,r=this;return e=u.isBlank(this._currentInstruction)||this._currentInstruction.componentType!=t.componentType?!1:f.hasLifecycleHook(l.routerCanReuse,this._currentInstruction.componentType)?this._componentRef.then(function(e){return e.instance.routerCanReuse(t,r._currentInstruction)}):t==this._currentInstruction||u.isPresent(t.params)&&u.isPresent(this._currentInstruction.params)&&c.StringMapWrapper.equals(t.params,this._currentInstruction.params),s.PromiseWrapper.resolve(e)},t.prototype.ngOnDestroy=function(){this._parentRouter.unregisterPrimaryOutlet(this)},n([a.Output("activate"),i("design:type",Object)],t.prototype,"activateEvents",void 0),t=n([a.Directive({selector:"router-outlet"}),o(3,a.Attribute("name")),i("design:paramtypes",[a.ViewContainerRef,a.DynamicComponentLoader,h.Router,String])],t)}();e.RouterOutlet=b},function(t,e,r){"use strict";var n=r(325),i=r(327),o=r(327);e.routerCanReuse=o.routerCanReuse,e.routerCanDeactivate=o.routerCanDeactivate,e.routerOnActivate=o.routerOnActivate,e.routerOnReuse=o.routerOnReuse,e.routerOnDeactivate=o.routerOnDeactivate,e.CanActivate=n.makeDecorator(i.CanActivate)},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=r(1),c=r(305),u=r(303),a=function(){function t(t,e){var r=this;this._router=t,this._location=e,this._router.subscribe(function(t){return r._updateLink()})}return t.prototype._updateLink=function(){this._navigationInstruction=this._router.generate(this._routeParams);var t=this._navigationInstruction.toLinkUrl();this.visibleHref=this._location.prepareExternalUrl(t)},Object.defineProperty(t.prototype,"isRouteActive",{get:function(){return this._router.isRouteActive(this._navigationInstruction)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"routeParams",{set:function(t){this._routeParams=t,this._updateLink()},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){return c.isString(this.target)&&"_self"!=this.target?!0:(this._router.navigateByInstruction(this._navigationInstruction),!1)},t=n([o.Directive({selector:"[routerLink]",inputs:["routeParams: routerLink","target: target"],host:{"(click)":"onClick()","[attr.href]":"visibleHref","[class.router-link-active]":"isRouteActive"}}),i("design:paramtypes",[u.Router,s.Location])],t)}();e.RouterLink=a},function(t,e,r){"use strict";function n(t,e,r,n){var i=new c.RootRouter(t,e,r);return n.registerDisposeListener(function(){return i.dispose()}),i}function i(t){if(0==t.componentTypes.length)throw new a.BaseException("Bootstrap at least one component before injecting Router.");return t.componentTypes[0]}var o=r(4),s=r(1),c=r(303),u=r(311),a=r(308);e.ROUTER_PROVIDERS_COMMON=[u.RouteRegistry,{provide:s.LocationStrategy,useClass:s.PathLocationStrategy},s.Location,{provide:c.Router,useFactory:n,deps:[u.RouteRegistry,s.Location,u.ROUTER_PRIMARY_COMPONENT,o.ApplicationRef]},{provide:u.ROUTER_PRIMARY_COMPONENT,useFactory:i,deps:[o.ApplicationRef]}]},function(t,e,r){"use strict";var n=r(331),i=r(239),o=r(1);e.ROUTER_PROVIDERS=[n.ROUTER_PROVIDERS_COMMON,{provide:o.PlatformLocation,useClass:i.BrowserPlatformLocation}],e.ROUTER_BINDINGS=e.ROUTER_PROVIDERS},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=r(301),c=r(334),u=r(337),a=r(338),h=function(){function t(){}return t=n([o.Component({selector:"main-app",providers:[],pipes:[],directives:[s.ROUTER_DIRECTIVES],templateUrl:"app/main.html"}),s.RouteConfig([{path:"/",component:c.Home,name:"Home",useAsDefault:!0},{path:"/app",component:a.ColorSchemr,name:"ColorSchemr"},{path:"/app/:id",component:a.ColorSchemr},{path:"/about",component:u.About,name:"About"}]),i("design:paramtypes",[])],t)}();e.MainApp=h,o.enableProdMode()},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=r(301),c=r(335),u=r(336),a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=n([o.Component({selector:"home",templateUrl:"app/components/home/home.html",styleUrls:["app/components/shared/css/style.css"],providers:[],directives:[s.ROUTER_DIRECTIVES,c.MDL,u.Loader],pipes:[]}),i("design:paramtypes",[])],t)}();e.Home=a},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=function(){function t(){}return t.prototype.ngAfterViewInit=function(){componentHandler.upgradeAllRegistered()},t=n([o.Directive({selector:"[mdl]"}),i("design:paramtypes",[])],t)}();e.MDL=s},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=r(335),c=function(){function t(){}return t.prototype.ngOnInit=function(){},n([o.Input(),i("design:type",Object)],t.prototype,"msg",void 0),t=n([o.Component({selector:"loader",templateUrl:"app/components/shared/loader.html",providers:[],directives:[s.MDL],pipes:[]}),i("design:paramtypes",[])],t)}();e.Loader=c},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=function(){function t(){}return t.prototype.ngOnInit=function(){},t=n([o.Component({selector:"about",templateUrl:"app/components/about/about.html",styleUrls:["app/components/about/about.css"],providers:[],directives:[],pipes:[]}),i("design:paramtypes",[])],t)}();e.About=s},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=r(335),c=r(339),u=r(340),a=r(341),h=r(342),p=r(344),l=r(345),f=r(601),d=r(602),b=r(603),y=function(){function t(t,e,r){this.colorService=t,this.stripService=e,this.quoteService=r,this.rangeRGBColor=[],this.colorStrips=[],this.allStrips={},this.quotes=[],this.currentQuoteIndex=0,this.quote={}}return t.prototype.ngOnInit=function(){this.init()},t.prototype.init=function(){var t=p.Defaults.STRIP_INIT_COUNT;this.allStrips={areLocked:!1,isRed:!0,isGreen:!0,isBlue:!0},this.setCurrentQuote(),this.colorStrips=this.stripService.init(t)},t.prototype.updateStripSettings=function(){this.stripService.updateColor(),this.setCurrentQuote()},t.prototype.eventHandler=function(t){32===t.keyCode?this.updateStripSettings():t.keyCode>=49&&t.keyCode<=57?this.stripService.updateColorByIndex(t.keyCode-49):t.keyCode>=97&&t.keyCode<=105?this.stripService.updateColorByIndex(t.keyCode-97):48!==t.keyCode&&96!==t.keyCode||this.stripService.updateColorByIndex(9)},t.prototype.onStripClick=function(t,e,r){r.isLocked=!r.isLocked},t.prototype.addStrip=function(t,e){this.colorStrips&&this.colorStrips.length>=10||(this.colorStrips=this.stripService.addStrip(e))},t.prototype.removeStrip=function(t,e,r){t.preventDefault(),this.colorStrips.splice(e,1)},t.prototype.onOpacityChange=function(t,e,r){t.preventDefault(),t.stopPropagation(),this.stripService.updateOpacity(r,e)},t.prototype.getQuote=function(){var t=this;this.quoteService.getQuote().subscribe(function(e){Array.prototype.push.apply(t.quotes,e),t.setCurrentQuote()})},t.prototype.setQuote=function(){0===this.currentQuoteIndex&&0===this.quotes.length?this.getQuote():this.setCurrentQuote()},t.prototype.setCurrentQuote=function(){this.quotes.length-this.currentQuoteIndex<=5?this.getQuote():(this.quote=this.quotes[this.currentQuoteIndex],this.currentQuoteIndex++)},t.prototype.discoMode=function(){var t=this;this.discoModeInterval=setInterval(function(){t.eventHandler({keyCode:32})},1e3)},t.prototype.pianoMode=function(){var t=this;this.pianoModeInterval=setInterval(function(){t.eventHandler({keyCode:Math.floor(10*Math.random())+48})},250)},t.prototype.toggleStripsLock=function(){this.allStrips.areLocked=!this.allStrips.areLocked;for(var t=0;t<this.colorStrips.length;t++)this.colorStrips[t].isLocked=this.allStrips.areLocked},t.prototype.toggleStripsRGBComponents=function(){for(var t=0;t<this.colorStrips.length;t++)this.colorStrips[t].isRed=this.allStrips.isRed,this.colorStrips[t].isGreen=this.allStrips.isGreen,this.colorStrips[t].isBlue=this.allStrips.isBlue},t.prototype.toggleDiscoMode=function(t){t?this.discoMode():clearInterval(this.discoModeInterval)},t.prototype.togglePianoMode=function(t){t?this.pianoMode():clearInterval(this.pianoModeInterval)},t=n([o.Component({selector:"app",templateUrl:"app/components/color-schemr/color-schemr.html",styleUrls:["app/components/shared/css/style.css","app/components/color-schemr/color-schemr.css"],providers:[a.ColorService,h.StripService,l.QuoteService],directives:[s.MDL,c.Header,u.Footer,f.SchemrPreviewer],pipes:[b.EscapeHtmlTagsPipe,d.PreviewPipe]}),i("design:paramtypes",[a.ColorService,h.StripService,l.QuoteService])],t)}();e.ColorSchemr=y},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=r(301),c=r(335),u=function(){function t(){}return t.prototype.ngOnInit=function(){},t=n([o.Component({encapsulation:o.ViewEncapsulation.None,selector:"app-header",templateUrl:"app/components/shared/header.html",styleUrls:["app/components/shared/css/style.css"],providers:[],directives:[c.MDL,s.ROUTER_DIRECTIVES],pipes:[]}),i("design:paramtypes",[])],t)}();e.Header=u},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=function(){function t(){}return t.prototype.ngOnInit=function(){},t=n([o.Component({selector:"app-footer",templateUrl:"app/components/shared/footer.html",styleUrls:[],providers:[],directives:[],pipes:[]}),i("design:paramtypes",[])],t)}();e.Footer=s},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=function(){function t(){}return t.prototype.getRandomHexCode=function(){return this.hexMode()},t.prototype.hexMode=function(){for(var t,e="0123456789abcdef",r="",n=0;6>n;)t=Math.floor(Math.random()*e.length),r+=e.substring(t,t+1),n+=1;return"#"+r},t.prototype.hexToRgb=function(t){if(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,r,n){return e+e+r+r+n+n});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[void 0,void 0,void 0]}},t.prototype.componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},t.prototype.rgbToHex=function(t,e,r){return"#"+this.componentToHex(t)+this.componentToHex(e)+this.componentToHex(r)},t.prototype.getRandomRGB=function(t){var e=0,r=0,n=0;return t.isRed&&(e=Math.floor(-254*Math.random()+255)),t.isGreen&&(r=Math.floor(-254*Math.random()+255)),t.isBlue&&(n=Math.floor(-254*Math.random()+255)),[e,r,n]},t.prototype.getFormattedRGB=function(t){var e=this.getRandomRGB(t);return{formatted:"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+(t.opacity/10||1)+")",raw:e}},t=n([o.Injectable(),i("design:paramtypes",[])],t)}();e.ColorService=s},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=r(343),c=r(344),u=function(){function t(){this.strips=[],this.stripsLength=0}return t.prototype.addStrip=function(t){var e;return e=new s.StripModel(this.stripsLength),this.stripsLength=this.strips.length,t?this.strips=[e].concat(this.strips):this.strips=this.strips.concat([e]),this.strips},t.prototype.updateColor=function(){for(var t=0;t<this.strips.length;t++)this.strips[t].updateColor()},t.prototype.updateColorByIndex=function(t){this.strips[t]&&this.strips[t].updateColor()},t.prototype.updateOpacity=function(t,e){this.strips[e].updateOpacity(t)},t.prototype.flush=function(){this.strips=[]},t.prototype.init=function(t){void 0===t&&(t=c.Defaults.STRIP_INIT_COUNT),this.flush();for(var e=0;t>e;e++)this.strips[e]=new s.StripModel(this.stripsLength),this.stripsLength=this.strips.length;return this.strips},t=n([o.Injectable(),i("design:paramtypes",[])],t)}();e.StripService=u},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=r(341),c=r(342),u=function(){function t(t){void 0===t&&(t=0),this.index=t,this.color="",this.rgbColor="",this.rgb=[],this.isLocked=!1,this.opacity=10,this.fontColor="",this.isRed=!0,this.isGreen=!0,this.isBlue=!0,this.colorService=new s.ColorService,this.stripService=new c.StripService,this.color=this.colorService.getRandomHexCode();var e=this.colorService.hexToRgb(this.color);this.rgbColor="rgba("+e[0]+", "+e[1]+", "+e[2]+", 1)",this.rgb=e,this.setFontColor(e)}return t.prototype.updateColor=function(){if(!this.isLocked){var t,e=this.colorService.getFormattedRGB(this);this.rgbColor=e.formatted,this.rgb=e.raw,t=this.colorService.rgbToHex(e.raw[0],e.raw[1],e.raw[2]),this.color=t,this.setFontColor(e.raw)}},t.prototype.updateOpacity=function(t){var e=t.rgb;t.rgbColor="rgba("+e[0]+", "+e[1]+", "+e[2]+", "+(t.opacity/10||1)+")"},t.prototype.init=function(){},t.prototype.setFontColor=function(t){var e=1-(.299*t[0]+.587*t[1]+.114*t[2])/255;.5>e?this.fontColor="#20172C":this.fontColor="#FFFFFF"},t=n([o.Injectable(),i("design:paramtypes",[Number])],t)}();e.StripModel=u},function(t,e){"use strict";var r=function(){function t(){}return Object.defineProperty(t,"STRIP_INIT_COUNT",{
get:function(){return 4},enumerable:!0,configurable:!0}),t}();e.Defaults=r},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=r(280),c=r(346),u=function(){function t(t){this.http=t,this.quotesApiUrl="http://quotesondesign.com/wp-json/posts?tags=color&filter[orderby]=rand&filter[posts_per_page]=25"}return t.prototype.getQuote=function(){return this.http.get(this.quotesApiUrl).map(this.extractData)["catch"](this.errorHandler)},t.prototype.extractData=function(t){return 200===t.status?t.json()||{}:void 0},t.prototype.errorHandler=function(t){var e=t.message;return console.log(e),c.Observable["throw"](e)},t=n([o.Injectable(),i("design:paramtypes",[s.Http])],t)}();e.QuoteService=u},function(t,e,r){"use strict";var n=r(37);e.Subject=n.Subject;var i=r(38);e.Observable=i.Observable,r(347),r(351),r(354),r(365),r(369),r(372),r(374),r(377),r(384),r(387),r(390),r(392),r(401),r(404),r(406),r(410),r(412),r(415),r(418),r(422),r(425),r(427),r(429),r(431),r(433),r(435),r(442),r(444),r(446),r(447),r(448),r(450),r(453),r(456),r(458),r(460),r(462),r(464),r(466),r(468),r(470),r(472),r(474),r(476),r(478),r(480),r(483),r(488),r(490),r(492),r(494),r(496),r(498),r(500),r(502),r(504),r(506),r(507),r(508),r(509),r(510),r(511),r(512),r(515),r(517),r(519),r(522),r(523),r(525),r(526),r(528),r(530),r(532),r(534),r(536),r(538),r(540),r(542),r(544),r(546),r(548),r(550),r(552),r(559),r(561),r(563),r(565),r(568),r(570),r(572),r(574),r(576),r(578),r(580),r(582),r(584),r(585),r(587),r(589),r(591),r(593),r(595),r(597),r(598);var o=r(600);e.Operator=o.Operator;var s=r(45);e.Subscription=s.Subscription;var c=r(43);e.Subscriber=c.Subscriber;var u=r(350);e.AsyncSubject=u.AsyncSubject;var a=r(438);e.ReplaySubject=a.ReplaySubject;var h=r(521);e.BehaviorSubject=h.BehaviorSubject;var p=r(441);e.ConnectableObservable=p.ConnectableObservable;var l=r(383);e.Notification=l.Notification;var f=r(482);e.EmptyError=f.EmptyError;var d=r(567);e.ArgumentOutOfRangeError=d.ArgumentOutOfRangeError;var b=r(55);e.ObjectUnsubscribedError=b.ObjectUnsubscribedError;var y=r(50);e.UnsubscriptionError=y.UnsubscriptionError;var v=r(555),m=r(396),_=r(439),g=r(51),w=r(41),O=r(363),x={asap:v.asap,async:m.async,queue:_.queue};e.Scheduler=x;var S={rxSubscriber:g.$$rxSubscriber,observable:w.$$observable,iterator:O.$$iterator};e.Symbol=S},function(t,e,r){"use strict";var n=r(38),i=r(348);n.Observable.bindCallback=i.bindCallback},function(t,e,r){"use strict";var n=r(349);e.bindCallback=n.BoundCallbackObservable.create},function(t,e,r){"use strict";function n(t){var e=this,r=t.source,n=t.subscriber,s=r.callbackFunc,c=r.args,p=r.scheduler,l=r.subject;if(!l){l=r.subject=new h.AsyncSubject;var f=function b(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=b.source,s=n.selector,c=n.subject;if(s){var h=u.tryCatch(s).apply(this,t);h===a.errorObject?e.add(p.schedule(o,0,{err:a.errorObject.e,subject:c})):e.add(p.schedule(i,0,{value:h,subject:c}))}else{var l=1===t.length?t[0]:t;e.add(p.schedule(i,0,{value:l,subject:c}))}};f.source=r;var d=u.tryCatch(s).apply(this,c.concat(f));d===a.errorObject&&l.error(a.errorObject.e)}e.add(l.subscribe(n))}function i(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function o(t){var e=t.err,r=t.subject;r.error(e)}var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=r(38),u=r(48),a=r(49),h=r(350),p=function(t){function e(e,r,n,i){t.call(this),this.callbackFunc=e,this.selector=r,this.args=n,this.scheduler=i}return s(e,t),e.create=function(t,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,r,i,n)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,r=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(n,0,{source:this,subscriber:t});if(!o){o=this.subject=new h.AsyncSubject;var s=function p(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=p.source,n=r.selector,i=r.subject;if(n){var o=u.tryCatch(n).apply(this,t);o===a.errorObject?i.error(a.errorObject.e):(i.next(o),i.complete())}else i.next(1===t.length?t[0]:t),i.complete()};s.source=this;var c=u.tryCatch(e).apply(this,r.concat(s));c===a.errorObject&&o.error(a.errorObject.e)}return o.subscribe(t)},e}(c.Observable);e.BoundCallbackObservable=p},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(37),o=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1}return n(e,t),e.prototype._subscribe=function(e){return this.hasCompleted&&this.hasNext&&e.next(this.value),t.prototype._subscribe.call(this,e)},e.prototype._next=function(t){this.value=t,this.hasNext=!0},e.prototype._complete=function(){var t=-1,e=this.observers,r=e.length;if(this.isUnsubscribed=!0,this.hasNext)for(;++t<r;){var n=e[t];n.next(this.value),n.complete()}else for(;++t<r;)e[t].complete();this.isUnsubscribed=!1,this.unsubscribe()},e}(i.Subject);e.AsyncSubject=o},function(t,e,r){"use strict";var n=r(38),i=r(352);n.Observable.bindNodeCallback=i.bindNodeCallback},function(t,e,r){"use strict";var n=r(353);e.bindNodeCallback=n.BoundNodeCallbackObservable.create},function(t,e,r){"use strict";function n(t){var e=this,r=t.source,n=t.subscriber,s=r.callbackFunc,c=r.args,p=r.scheduler,l=r.subject;if(!l){l=r.subject=new h.AsyncSubject;var f=function b(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=b.source,s=n.selector,c=n.subject,h=t.shift();if(h)c.error(h);else if(s){var l=u.tryCatch(s).apply(this,t);l===a.errorObject?e.add(p.schedule(o,0,{err:a.errorObject.e,subject:c})):e.add(p.schedule(i,0,{value:l,subject:c}))}else{var f=1===t.length?t[0]:t;e.add(p.schedule(i,0,{value:f,subject:c}))}};f.source=r;var d=u.tryCatch(s).apply(this,c.concat(f));d===a.errorObject&&l.error(a.errorObject.e)}e.add(l.subscribe(n))}function i(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function o(t){var e=t.err,r=t.subject;r.error(e)}var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=r(38),u=r(48),a=r(49),h=r(350),p=function(t){function e(e,r,n,i){t.call(this),this.callbackFunc=e,this.selector=r,this.args=n,this.scheduler=i}return s(e,t),e.create=function(t,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,r,i,n)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,r=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(n,0,{source:this,subscriber:t});if(!o){o=this.subject=new h.AsyncSubject;var s=function p(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=p.source,n=r.selector,i=r.subject,o=t.shift();if(o)i.error(o);else if(n){var s=u.tryCatch(n).apply(this,t);s===a.errorObject?i.error(a.errorObject.e):(i.next(s),i.complete())}else i.next(1===t.length?t[0]:t),i.complete()};s.source=this;var c=u.tryCatch(e).apply(this,r.concat(s));c===a.errorObject&&o.error(a.errorObject.e)}return o.subscribe(t)},e}(c.Observable);e.BoundNodeCallbackObservable=p},function(t,e,r){"use strict";var n=r(38),i=r(355);n.Observable.combineLatest=i.combineLatestStatic},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&c.isArray(t[0])&&(t=t[0]),t.unshift(this),new s.ArrayObservable(t).lift(new p(r))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,n=null;return u.isScheduler(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&c.isArray(t[0])&&(t=t[0]),new s.ArrayObservable(t,n).lift(new p(r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(356),c=r(46),u=r(359),a=r(360),h=r(361);e.combineLatest=n,e.combineLatestStatic=i;var p=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.project))},t}();e.CombineLatestOperator=p;var l=function(t){function e(e,r){t.call(this,e),this.project=r,this.active=0,this.values=[],this.observables=[],this.toRespond=[]}return o(e,t),e.prototype._next=function(t){var e=this.toRespond;e.push(e.length),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e;for(var r=0;e>r;r++){var n=t[r];this.add(h.subscribeToResult(this,n,n,r))}}},e.prototype.notifyComplete=function(t){0===(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.values;o[r]=e;var s=this.toRespond;if(s.length>0){var c=s.indexOf(r);-1!==c&&s.splice(c,1)}0===s.length&&(this.project?this._tryProject(o):this.destination.next(o))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(a.OuterSubscriber);e.CombineLatestSubscriber=l},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=r(357),s=r(358),c=r(359),u=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=t[t.length-1];c.isScheduler(n)?t.pop():n=null;var i=t.length;return i>1?new e(t,n):1===i?new o.ScalarObservable(t[0],n):new s.EmptyObservable(n)},e.dispatch=function(t){var e=t.array,r=t.index,n=t.count,i=t.subscriber;return r>=n?void i.complete():(i.next(e[r]),void(i.isUnsubscribed||(t.index=r+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,n=this.array,i=n.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:n,index:r,count:i,subscriber:t});for(var s=0;i>s&&!t.isUnsubscribed;s++)t.next(n[s]);t.complete()},e}(i.Observable);e.ArrayObservable=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,n=t.subscriber;return e?void n.complete():(n.next(r),void(n.isUnsubscribed||(t.done=!0,this.schedule(t))))},e.prototype._subscribe=function(t){var r=this.value,n=this.scheduler;return n?n.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t}):(t.next(r),void(t.isUnsubscribed||t.complete()))},e}(i.Observable);e.ScalarObservable=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=function(t){function e(e){t.call(this),this.scheduler=e}return n(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;return r?r.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(i.Observable);e.EmptyObservable=o},function(t,e){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(43),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);e.OuterSubscriber=o},function(t,e,r){"use strict";function n(t,e,r,n){var p=new h.InnerSubscriber(t,r,n);if(!p.isUnsubscribed){if(e instanceof c.Observable)return e._isScalar?(p.next(e.value),void p.complete()):e.subscribe(p);if(o.isArray(e)){for(var l=0,f=e.length;f>l&&!p.isUnsubscribed;l++)p.next(e[l]);p.isUnsubscribed||p.complete()}else{if(s.isPromise(e))return e.then(function(t){p.isUnsubscribed||(p.next(t),p.complete())},function(t){return p.error(t)}).then(null,function(t){i.root.setTimeout(function(){throw t})}),p;if("function"==typeof e[u.$$iterator]){for(var d=0,b=e;d<b.length;d++){var y=b[d];if(p.next(y),p.isUnsubscribed)break}p.isUnsubscribed||p.complete()}else if("function"==typeof e[a.$$observable]){var v=e[a.$$observable]();if("function"==typeof v.subscribe)return v.subscribe(new h.InnerSubscriber(t,r,n));p.error("invalid observable")}else p.error(new TypeError("unknown type returned"))}}}var i=r(39),o=r(46),s=r(362),c=r(38),u=r(363),a=r(41),h=r(364);e.subscribeToResult=n},function(t,e){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},function(t,e,r){"use strict";var n=r(39),i=n.root.Symbol;if("function"==typeof i)i.iterator?e.$$iterator=i.iterator:"function"==typeof i["for"]&&(e.$$iterator=i["for"]("iterator"));else if(n.root.Set&&"function"==typeof(new n.root.Set)["@@iterator"])e.$$iterator="@@iterator";else if(n.root.Map)for(var o=Object.getOwnPropertyNames(n.root.Map.prototype),s=0;s<o.length;++s){var c=o[s];if("entries"!==c&&"size"!==c&&n.root.Map.prototype[c]===n.root.Map.prototype.entries){e.$$iterator=c;break}}else e.$$iterator="@@iterator"},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(43),o=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);e.InnerSubscriber=o},function(t,e,r){"use strict";var n=r(38),i=r(366);n.Observable.concat=i.concat},function(t,e,r){"use strict";var n=r(367);e.concat=n.concatStatic},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.apply(void 0,[this].concat(t))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,n=t;return o.isScheduler(n[t.length-1])&&(r=n.pop()),new s.ArrayObservable(t,r).lift(new c.MergeAllOperator(1))}var o=r(359),s=r(356),c=r(368);e.concat=n,e.concatStatic=i},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.mergeAll=n;var c=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.concurrent))},t}();e.MergeAllOperator=c;var u=function(t){function e(e,r){t.call(this,e),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(s.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=u},function(t,e,r){"use strict";var n=r(38),i=r(370);n.Observable.defer=i.defer},function(t,e,r){"use strict";var n=r(371);e.defer=n.DeferObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=r(361),s=r(360),c=function(t){function e(e){t.call(this),this.observableFactory=e}return n(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new u(t,this.observableFactory)},e}(i.Observable);e.DeferObservable=c;var u=function(t){function e(e,r){t.call(this,e),this.factory=r,this.tryDefer()}return n(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(o.subscribeToResult(this,t))},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(373);n.Observable.empty=i.empty},function(t,e,r){"use strict";var n=r(358);e.empty=n.EmptyObservable.create},function(t,e,r){"use strict";var n=r(38),i=r(375);n.Observable.forkJoin=i.forkJoin},function(t,e,r){"use strict";var n=r(376);e.forkJoin=n.ForkJoinObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=r(358),s=r(46),c=r(361),u=r(360),a=function(t){function e(e,r){t.call(this),this.sources=e,this.resultSelector=r}return n(e,t),e.create=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];if(null===t||0===arguments.length)return new o.EmptyObservable;var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,n)},e.prototype._subscribe=function(t){return new h(t,this.sources,this.resultSelector)},e}(i.Observable);e.ForkJoinObservable=a;var h=function(t){function e(e,r,n){t.call(this,e),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var i=r.length;this.total=i,this.values=new Array(i);for(var o=0;i>o;o++){var s=r[o],u=c.subscribeToResult(this,s,null,o);u&&(u.outerIndex=o,this.add(u))}}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,r=this,n=r.haveValues,i=r.resultSelector,o=r.values,s=o.length;if(!t._hasValue)return void e.complete();if(this.completed++,this.completed===s){if(n===s){var c=i?i.apply(this,o):o;e.next(c)}e.complete()}},e}(u.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(378);n.Observable.from=i.from},function(t,e,r){"use strict";var n=r(379);e.from=n.FromObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(46),o=r(44),s=r(362),c=r(359),u=r(56),a=r(380),h=r(356),p=r(381),l=r(41),f=r(363),d=r(38),b=r(382),y=function(t){return t&&"number"==typeof t.length},v=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return n(e,t),e.create=function(t,r,n,b){var v=null,m=null;if(o.isFunction(r)?(v=b||null,m=r):c.isScheduler(v)&&(v=r),null!=t){if("function"==typeof t[l.$$observable])return t instanceof d.Observable&&!v?t:new e(t,v);if(i.isArray(t))return new h.ArrayObservable(t,v);if(s.isPromise(t))return new u.PromiseObservable(t,v);if("function"==typeof t[f.$$iterator]||"string"==typeof t)return new a.IteratorObservable(t,null,null,v);if(y(t))return new p.ArrayLikeObservable(t,m,n,v)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[l.$$observable]().subscribe(t):e[l.$$observable]().subscribe(new b.ObserveOnSubscriber(t,r,0))},e}(d.Observable);e.FromObservable=v},function(t,e,r){"use strict";function n(t){var e=t[f.$$iterator];if(!e&&"string"==typeof t)return new y(t);if(!e&&void 0!==t.length)return new v(t);if(!e)throw new TypeError("Object is not iterable");return t[f.$$iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=s(e)*Math.floor(Math.abs(e)),0>=e?0:e>m?m:e):e}function o(t){return"number"==typeof t&&u.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:0>e?-1:1}var c=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=r(39),a=r(47),h=r(48),p=r(38),l=r(44),f=r(363),d=r(49),b=function(t){function e(e,r,i,o){if(t.call(this),null==e)throw new Error("iterator cannot be null.");if(a.isObject(r))this.thisArg=r,this.scheduler=i;else if(l.isFunction(r))this.project=r,this.thisArg=i,this.scheduler=o;else if(null!=r)throw new Error("When provided, `project` must be a function.");this.iterator=n(e)}return c(e,t),e.create=function(t,r,n,i){return new e(t,r,n,i)},e.dispatch=function(t){var e=t.index,r=t.hasError,n=t.thisArg,i=t.project,o=t.iterator,s=t.subscriber;if(r)return void s.error(t.error);var c=o.next();return c.done?void s.complete():(i?(c=h.tryCatch(i).call(n,c.value,e),c===d.errorObject?(t.error=d.errorObject.e,t.hasError=!0):(s.next(c),t.index=e+1)):(s.next(c.value),t.index=e+1),void(s.isUnsubscribed||this.schedule(t)))},e.prototype._subscribe=function(t){var r=0,n=this,i=n.iterator,o=n.project,s=n.thisArg,c=n.scheduler;if(c)return c.schedule(e.dispatch,0,{index:r,thisArg:s,project:o,iterator:i,subscriber:t});for(;;){var u=i.next();if(u.done){t.complete();break}if(o){if(u=h.tryCatch(o).call(s,u.value,r++),u===d.errorObject){t.error(d.errorObject.e);break}t.next(u)}else t.next(u.value);if(t.isUnsubscribed)break}},e}(p.Observable);e.IteratorObservable=b;var y=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[f.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),v=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=i(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[f.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),m=Math.pow(2,53)-1},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=r(357),s=r(358),c=function(t){function e(e,r,n,i){t.call(this),this.arrayLike=e,this.scheduler=i,r||i||1!==e.length||(this._isScalar=!0,this.value=e[0]),r&&(this.mapFn=r.bind(n))}return n(e,t),e.create=function(t,r,n,i){var c=t.length;return 0===c?new s.EmptyObservable:1!==c||r?new e(t,r,n,i):new o.ScalarObservable(t[0],i)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,n=t.length,i=t.mapFn,o=t.subscriber;if(!o.isUnsubscribed){if(r>=n)return void o.complete();var s=i?i(e[r],r):e[r];o.next(s),t.index=r+1,this.schedule(t)}},e.prototype._subscribe=function(t){var r=0,n=this,i=n.arrayLike,o=n.mapFn,s=n.scheduler,c=i.length;if(s)return s.schedule(e.dispatch,0,{arrayLike:i,index:r,length:c,mapFn:o,subscriber:t});for(var u=0;c>u&&!t.isUnsubscribed;u++){var a=o?o(i[u],u):i[u];t.next(a)}t.complete()},e}(i.Observable);e.ArrayLikeObservable=c},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),this.lift(new c(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(383);e.observeOn=n;var c=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=c;var u=function(t){function e(e,r,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=r,this.delay=n}return i(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r)},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=u;var a=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=a},function(t,e,r){"use strict";var n=r(38),i=function(){function t(t,e,r){this.kind=t,this.value=e,this.exception=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.exception);case"C":return t.complete&&t.complete()}},t.prototype["do"]=function(t,e,r){var n=this.kind;switch(n){case"N":return t&&t(this.value);case"E":return e&&e(this.exception);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this["do"](t,e,r)},t.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return n.Observable.of(this.value);case"E":return n.Observable["throw"](this.exception);case"C":return n.Observable.empty()}},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i},function(t,e,r){"use strict";var n=r(38),i=r(385);n.Observable.fromEvent=i.fromEvent},function(t,e,r){"use strict";var n=r(386);e.fromEvent=n.FromEventObservable.create},function(t,e,r){"use strict";function n(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function i(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===t.toString()}function s(t){return!!t&&"[object HTMLCollection]"===t.toString()}function c(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=r(38),h=r(48),p=r(49),l=r(45),f=function(t){function e(e,r,n){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=n}return u(e,t),e.create=function(t,r,n){return new e(t,r,n)},e.setupSubscription=function(t,r,u,a){var h;if(o(t)||s(t))for(var p=0,f=t.length;f>p;p++)e.setupSubscription(t[p],r,u,a);else c(t)?(t.addEventListener(r,u),h=function(){return t.removeEventListener(r,u)}):i(t)?(t.on(r,u),h=function(){return t.off(r,u)}):n(t)&&(t.addListener(r,u),h=function(){return t.removeListener(r,u)});a.add(new l.Subscription(h))},e.prototype._subscribe=function(t){var r=this.sourceObj,n=this.eventName,i=this.selector,o=i?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=h.tryCatch(i).apply(void 0,e);n===p.errorObject?t.error(p.errorObject.e):t.next(n)}:function(e){return t.next(e)};e.setupSubscription(r,n,o,t)},e}(a.Observable);e.FromEventObservable=f},function(t,e,r){"use strict";var n=r(38),i=r(388);n.Observable.fromEventPattern=i.fromEventPattern},function(t,e,r){"use strict";var n=r(389);e.fromEventPattern=n.FromEventPatternObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=r(45),s=r(48),c=r(49),u=function(t){function e(e,r,n){t.call(this),this.addHandler=e,this.removeHandler=r,this.selector=n}return n(e,t),e.create=function(t,r,n){return new e(t,r,n)},e.prototype._subscribe=function(t){var e=this.addHandler,r=this.removeHandler,n=this.selector,i=n?function(e){var r=s.tryCatch(n).apply(null,arguments);r===c.errorObject?t.error(r.e):t.next(r)}:function(e){t.next(e)},u=s.tryCatch(e)(i);u===c.errorObject&&t.error(u.e),t.add(new o.Subscription(function(){r(i)}))},e}(i.Observable);e.FromEventPatternObservable=u},function(t,e,r){"use strict";var n=r(38),i=r(391);n.Observable.fromPromise=i.fromPromise},function(t,e,r){"use strict";var n=r(56);e.fromPromise=n.PromiseObservable.create},function(t,e,r){"use strict";var n=r(38),i=r(393);n.Observable.interval=i.interval},function(t,e,r){"use strict";var n=r(394);e.interval=n.IntervalObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(395),o=r(38),s=r(396),c=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=s.async),t.call(this),this.period=e,this.scheduler=r,(!i.isNumeric(e)||0>e)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=s.async)}return n(e,t),e.create=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=s.async),new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.subscriber,n=t.period;r.next(e),r.isUnsubscribed||(t.index+=1,this.schedule(t,n))},e.prototype._subscribe=function(t){var r=0,n=this.period,i=this.scheduler;t.add(i.schedule(e.dispatch,n,{index:r,subscriber:t,period:n}))},e}(o.Observable);e.IntervalObservable=c},function(t,e,r){"use strict";function n(t){return!i.isArray(t)&&t-parseFloat(t)+1>=0}var i=r(46);e.isNumeric=n},function(t,e,r){"use strict";var n=r(397);e.async=new n.AsyncScheduler},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(398),o=r(399),s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.scheduleNow=function(t,e){return new i.FutureAction(this,t).schedule(e,0)},e}(o.QueueScheduler);e.AsyncScheduler=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(39),o=r(45),s=function(t){function e(e,r){t.call(this),this.scheduler=e,this.work=r,this.pending=!1}return n(e,t),e.prototype.execute=function(){if(this.isUnsubscribed)this.error=new Error("executing a cancelled action");else try{this.work(this.state)}catch(t){this.unsubscribe(),this.error=t}},e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this.isUnsubscribed?this:this._schedule(t,e)},e.prototype._schedule=function(t,e){var r=this;void 0===e&&(e=0),
this.state=t,this.pending=!0;var n=this.id;return null!=n&&this.delay===e?this:(this.delay=e,null!=n&&(this.id=null,i.root.clearInterval(n)),this.id=i.root.setInterval(function(){r.pending=!1;var t=r,e=t.id,n=t.scheduler;n.actions.push(r),n.flush(),r.pending===!1&&null!=e&&(r.id=null,i.root.clearInterval(e))},e),this)},e.prototype._unsubscribe=function(){this.pending=!1;var t=this,e=t.id,r=t.scheduler,n=r.actions,o=n.indexOf(this);null!=e&&(this.id=null,i.root.clearInterval(e)),-1!==o&&n.splice(o,1),this.work=null,this.state=null,this.scheduler=null},e}(o.Subscription);e.FutureAction=s},function(t,e,r){"use strict";var n=r(400),i=r(398),o=function(){function t(){this.active=!1,this.actions=[],this.scheduledId=null}return t.prototype.now=function(){return Date.now()},t.prototype.flush=function(){if(!this.active&&!this.scheduledId){this.active=!0;for(var t=this.actions,e=null;e=t.shift();)if(e.execute(),e.error)throw this.active=!1,e.error;this.active=!1}},t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),0>=e?this.scheduleNow(t,r):this.scheduleLater(t,e,r)},t.prototype.scheduleNow=function(t,e){return new n.QueueAction(this,t).schedule(e)},t.prototype.scheduleLater=function(t,e,r){return new i.FutureAction(this,t).schedule(r,e)},t}();e.QueueScheduler=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(398),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype._schedule=function(e,r){if(void 0===r&&(r=0),r>0)return t.prototype._schedule.call(this,e,r);this.delay=r,this.state=e;var n=this.scheduler;return n.actions.push(this),n.flush(),this},e}(i.FutureAction);e.QueueAction=o},function(t,e,r){"use strict";var n=r(38),i=r(402);n.Observable.merge=i.merge},function(t,e,r){"use strict";var n=r(403);e.merge=n.mergeStatic},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),i.apply(this,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return c.isScheduler(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof i&&(r=t.pop()),1===t.length?t[0]:new o.ArrayObservable(t,n).lift(new s.MergeAllOperator(r))}var o=r(356),s=r(368),c=r(359);e.merge=n,e.mergeStatic=i},function(t,e,r){"use strict";var n=r(38),i=r(405);n.Observable.race=i.raceStatic},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&s.isArray(t[0])&&(t=t[0]),t.unshift(this),i.apply(this,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!s.isArray(t[0]))return t[0];t=t[0]}return new c.ArrayObservable(t).lift(new h)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(46),c=r(356),u=r(360),a=r(361);e.race=n,e.raceStatic=i;var h=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new p(t))},t}();e.RaceOperator=h;var p=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;e>r;r++){var n=t[r],i=a.subscribeToResult(this,n,n,r);this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(u.OuterSubscriber);e.RaceSubscriber=p},function(t,e,r){"use strict";var n=r(38),i=r(407);n.Observable.never=i.never},function(t,e,r){"use strict";var n=r(408);e.never=n.NeverObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=r(409),s=function(t){function e(){t.call(this)}return n(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(i.Observable);e.NeverObservable=s},function(t,e){"use strict";function r(){}e.noop=r},function(t,e,r){"use strict";var n=r(38),i=r(411);n.Observable.of=i.of},function(t,e,r){"use strict";var n=r(356);e.of=n.ArrayObservable.of},function(t,e,r){"use strict";var n=r(38),i=r(413);n.Observable.range=i.range},function(t,e,r){"use strict";var n=r(414);e.range=n.RangeObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=function(t){function e(e,r,n){t.call(this),this.start=e,this._count=r,this.scheduler=n}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),void 0===r&&(r=0),new e(t,r,n)},e.dispatch=function(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;return r>=n?void i.complete():(i.next(e),void(i.isUnsubscribed||(t.index=r+1,t.start=e+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,n=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,count:i,start:n,subscriber:t});for(;;){if(r++>=i){t.complete();break}if(t.next(n++),t.isUnsubscribed)break}},e}(i.Observable);e.RangeObservable=o},function(t,e,r){"use strict";var n=r(38),i=r(416);n.Observable["throw"]=i._throw},function(t,e,r){"use strict";var n=r(417);e._throw=n.ErrorObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=function(t){function e(e,r){t.call(this),this.error=e,this.scheduler=r}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.error,r=t.subscriber;r.error(e)},e.prototype._subscribe=function(t){var r=this.error,n=this.scheduler;return n?n.schedule(e.dispatch,0,{error:r,subscriber:t}):void t.error(r)},e}(i.Observable);e.ErrorObservable=o},function(t,e,r){"use strict";var n=r(38),i=r(419);n.Observable.timer=i.timer},function(t,e,r){"use strict";var n=r(420);e.timer=n.TimerObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(395),o=r(38),s=r(396),c=r(359),u=r(421),a=function(t){function e(e,r,n){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,i.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):c.isScheduler(r)&&(n=r),c.isScheduler(n)||(n=s.async),this.scheduler=n,this.dueTime=u.isDate(e)?+e-this.scheduler.now():e}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),new e(t,r,n)},e.dispatch=function(t){var e=t.index,r=t.period,n=t.subscriber,i=this;if(n.next(e),!n.isUnsubscribed){if(-1===r)return n.complete();t.index=e+1,i.schedule(t,r)}},e.prototype._subscribe=function(t){var r=0,n=this,i=n.period,o=n.dueTime,s=n.scheduler;return s.schedule(e.dispatch,o,{index:r,period:i,subscriber:t})},e}(o.Observable);e.TimerObservable=a},function(t,e){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r},function(t,e,r){"use strict";var n=r(38),i=r(423);n.Observable.zip=i.zip},function(t,e,r){"use strict";var n=r(424);e.zip=n.zipStatic},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),i.apply(this,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new s.ArrayObservable(t).lift(new l(r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(356),c=r(46),u=r(43),a=r(360),h=r(361),p=r(363);e.zipProto=n,e.zipStatic=i;var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new f(t,this.project))},t}();e.ZipOperator=l;var f=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null)),t.call(this,e),this.index=0,this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return o(e,t),e.prototype._next=function(t){var e=this.iterators,r=this.index++;c.isArray(t)?e.push(new b(t)):"function"==typeof t[p.$$iterator]?e.push(new d(t[p.$$iterator]())):e.push(new y(this.destination,this,t,r))},e.prototype._complete=function(){var t=this.iterators,e=t.length;this.active=e;for(var r=0;e>r;r++){var n=t[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;e>n;n++){var i=t[n];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,s=[],n=0;e>n;n++){var i=t[n],c=i.next();if(i.hasCompleted()&&(o=!0),c.done)return void r.complete();s.push(c.value)}this.project?this._tryProject(s):r.next(s),o&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(u.Subscriber);e.ZipSubscriber=f;var d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),b=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[p.$$iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),y=function(t){function e(e,r,n,i){t.call(this,e),this.parent=r,this.observable=n,this.index=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(e,t),e.prototype[p.$$iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return h.subscribeToResult(this,this.observable,this,e)},e}(a.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(426);n.Observable.prototype.buffer=i.buffer},function(t,e,r){"use strict";function n(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.buffer=n;var c=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.closingNotifier))},t}(),u=function(t){function e(e,r){t.call(this,e),this.buffer=[],this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(428);n.Observable.prototype.bufferCount=i.bufferCount},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=null),this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.bufferCount=n;var s=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.bufferSize,this.startBufferEvery))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[[]],this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.count+=1,r=this.destination,n=this.bufferSize,i=null==this.startBufferEvery?n:this.startBufferEvery,o=this.buffers,s=o.length,c=-1;e%i===0&&o.push([]);for(var u=0;s>u;u++){var a=o[u];a.push(t),a.length===n&&(c=u,r.next(a))}-1!==c&&o.splice(c,1)},e.prototype._complete=function(){for(var e=this.destination,r=this.buffers;r.length>0;){var n=r.shift();n.length>0&&e.next(n)}t.prototype._complete.call(this)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(430);n.Observable.prototype.bufferTime=i.bufferTime},function(t,e,r){"use strict";function n(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=a.async),this.lift(new h(t,e,r))}function i(t){var e=t.subscriber,r=t.buffer;r&&e.closeBuffer(r),t.buffer=e.openBuffer(),e.isUnsubscribed||this.schedule(t,t.bufferTimeSpan)}function o(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openBuffer(),c=this;n.isUnsubscribed||(c.add(i.schedule(s,r,{subscriber:n,buffer:o})),c.schedule(t,e))}function s(t){var e=t.subscriber,r=t.buffer;e.closeBuffer(r)}var c=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=r(43),a=r(396);e.bufferTime=n;var h=function(){function t(t,e,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new p(t,this.bufferTimeSpan,this.bufferCreationInterval,this.scheduler))},t}(),p=function(t){function e(e,r,n,c){t.call(this,e),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.scheduler=c,this.buffers=[];var u=this.openBuffer();if(null!==n&&n>=0){var a={subscriber:this,buffer:u},h={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:c};this.add(c.schedule(s,r,a)),this.add(c.schedule(o,n,h))}else{var p={subscriber:this,buffer:u,bufferTimeSpan:r};this.add(c.schedule(i,r,p))}}return c(e,t),e.prototype._next=function(t){for(var e=this.buffers,r=e.length,n=0;r>n;n++)e[n].push(t)},e.prototype._error=function(e){this.buffers.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,r=e.buffers,n=e.destination;r.length>0;)n.next(r.shift());t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffers=null},e.prototype.openBuffer=function(){var t=[];return this.buffers.push(t),t},e.prototype.closeBuffer=function(t){this.destination.next(t);var e=this.buffers;e.splice(e.indexOf(t),1)},e}(u.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(432);n.Observable.prototype.bufferToggle=i.bufferToggle},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(45),s=r(361),c=r(360);e.bufferToggle=n;var u=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.openings,this.closingSelector))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;r>n;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector,r=e.call(this,t);r&&this.trySubscribe(r)}catch(n){this._error(n)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=[],n=new o.Subscription,i={buffer:r,subscription:n};e.push(i);var c=s.subscribeToResult(this,t,i);!c||c.isUnsubscribed?this.closeBuffer(i):(c.context=i,this.add(c),n.add(c))},e}(c.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(434);n.Observable.prototype.bufferWhen=i.bufferWhen},function(t,e,r){"use strict";function n(t){return this.lift(new h(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(45),s=r(48),c=r(49),u=r(360),a=r(361);e.bufferWhen=n;var h=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new p(t,this.closingSelector))},t}(),p=function(t){function e(e,r){t.call(this,e),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,n,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=s.tryCatch(this.closingSelector)();r===c.errorObject?this.error(c.errorObject.e):(t=new o.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(a.subscribeToResult(this,r)),this.subscribing=!1)},e}(u.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(436);n.Observable.prototype.cache=i.cache},function(t,e,r){"use strict";function n(t,e,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),i.publishReplay.call(this,t,e,r).refCount()}var i=r(437);e.cache=n},function(t,e,r){"use strict";function n(t,e,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(t,e,r))}var i=r(438),o=r(440);e.publishReplay=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(37),o=r(439),s=r(382),c=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.events=[],this.scheduler=n,this.bufferSize=1>e?1:e,this._windowTime=1>r?1:r}return n(e,t),e.prototype._next=function(e){var r=this._getNow();this.events.push(new u(r,e)),this._trimBufferThenGetEvents(r),t.prototype._next.call(this,e)},e.prototype._subscribe=function(e){var r=this._trimBufferThenGetEvents(this._getNow()),n=this.scheduler;n&&e.add(e=new s.ObserveOnSubscriber(e,n));for(var i=-1,o=r.length;++i<o&&!e.isUnsubscribed;)e.next(r[i].value);return t.prototype._subscribe.call(this,e)},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(t){for(var e=this.bufferSize,r=this._windowTime,n=this.events,i=n.length,o=0;i>o&&!(t-n[o].time<r);)o+=1;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(i.Subject);e.ReplaySubject=c;var u=function(){function t(t,e){this.time=t,this.value=e}return t}()},function(t,e,r){"use strict";var n=r(399);e.queue=new n.QueueScheduler},function(t,e,r){"use strict";function n(t){var e;return e="function"==typeof t?t:function(){return t},new i.ConnectableObservable(this,e)}var i=r(441);e.multicast=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=r(43),s=r(45),c=function(t){function e(e,r){t.call(this),this.source=e,this.subjectFactory=r}return n(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this.subject;return t&&!t.isUnsubscribed?t:this.subject=this.subjectFactory()},e.prototype.connect=function(){var t=this.source,e=this.subscription;return e&&!e.isUnsubscribed?e:(e=t.subscribe(this.getSubject()),e.add(new u(this)),this.subscription=e)},e.prototype.refCount=function(){return new a(this)},e.prototype._closeSubscription=function(){this.subject=null,this.subscription=null},e}(i.Observable);e.ConnectableObservable=c;var u=function(t){function e(e){t.call(this),this.connectable=e}return n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;t._closeSubscription(),this.connectable=null},e}(s.Subscription),a=function(t){function e(e,r){void 0===r&&(r=0),t.call(this),this.connectable=e,this.refCount=r}return n(e,t),e.prototype._subscribe=function(t){var e=this.connectable,r=new h(t,this),n=e.subscribe(r);return n.isUnsubscribed||1!==++this.refCount||(r.connection=this.connection=e.connect()),n},e}(i.Observable),h=function(t){function e(e,r){t.call(this,null),this.destination=e,this.refCountObservable=r,this.connection=r.connection,e.add(this)}return n(e,t),e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this._resetConnectable(),this.destination.error(t)},e.prototype._complete=function(){this._resetConnectable(),this.destination.complete()},e.prototype._resetConnectable=function(){var t=this.refCountObservable,e=t.connection,r=this.connection;r&&r===e&&(t.refCount=0,e.unsubscribe(),t.connection=null,this.unsubscribe())},e.prototype._unsubscribe=function(){var t=this.refCountObservable;if(0!==t.refCount&&0===--t.refCount){var e=t.connection,r=this.connection;r&&r===e&&(e.unsubscribe(),t.connection=null)}},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(443);n.Observable.prototype["catch"]=i._catch},function(t,e,r){"use strict";function n(t){var e=new s(t),r=this.lift(e);return e.caught=r}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e._catch=n;var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.selector,this.caught))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.selector=r,this.caught=n}return i(e,t),e.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void this.destination.error(t)}this._innerSub(e)}},e.prototype._innerSub=function(t){this.unsubscribe(),this.destination.remove(this),t.subscribe(this.destination)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(445);n.Observable.prototype.combineAll=i.combineAll},function(t,e,r){"use strict";function n(t){return this.lift(new i.CombineLatestOperator(t))}var i=r(355);e.combineAll=n},function(t,e,r){"use strict";var n=r(38),i=r(355);n.Observable.prototype.combineLatest=i.combineLatest},function(t,e,r){"use strict";var n=r(38),i=r(367);n.Observable.prototype.concat=i.concat},function(t,e,r){"use strict";var n=r(38),i=r(449);n.Observable.prototype.concatAll=i.concatAll},function(t,e,r){"use strict";function n(){return this.lift(new i.MergeAllOperator(1))}var i=r(368);e.concatAll=n},function(t,e,r){"use strict";var n=r(38),i=r(451);n.Observable.prototype.concatMap=i.concatMap},function(t,e,r){"use strict";function n(t,e){return this.lift(new i.MergeMapOperator(t,e,1))}var i=r(452);e.concatMap=n},function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new c(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(361),s=r(360);e.mergeMap=n;var c=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=c;var u=function(t){function e(e,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(o.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._notifyResultSelector(t,e,r,n):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(o){return void this.destination.error(o)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=u},function(t,e,r){"use strict";var n=r(38),i=r(454);n.Observable.prototype.concatMapTo=i.concatMapTo},function(t,e,r){"use strict";function n(t,e){return this.lift(new i.MergeMapToOperator(t,e,1))}var i=r(455);e.concatMapTo=n},function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new c(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.mergeMapTo=n;var c=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.ish,this.resultSelector,this.concurrent))},t}();e.MergeMapToOperator=c;var u=function(t){function e(e,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,e,t,r)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r,n,i){this.add(s.subscribeToResult(this,t,n,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,c=o.destination;s?this.trySelectResult(t,e,r,n):c.next(e)},e.prototype.trySelectResult=function(t,e,r,n){var i,o=this,s=o.resultSelector,c=o.destination;try{i=s(t,e,r,n)}catch(u){return void c.error(u)}c.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeMapToSubscriber=u},function(t,e,r){"use strict";var n=r(38),i=r(457);n.Observable.prototype.count=i.count},function(t,e,r){"use strict";function n(t){return this.lift(new s(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.count=n;var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate,this.source))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.source=n,this.count=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(459);n.Observable.prototype.dematerialize=i.dematerialize},function(t,e,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.dematerialize=n;var s=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(461);n.Observable.prototype.debounce=i.debounce},function(t,e,r){"use strict";function n(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.debounce=n;var c=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return i(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=s.subscribeToResult(this,e),r.isUnsubscribed||this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(o.OuterSubscriber)},function(t,e,r){"use strict";
var n=r(38),i=r(463);n.Observable.prototype.debounceTime=i.debounceTime},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=c.async),this.lift(new u(t,e))}function i(t){t.debouncedNext()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(43),c=r(396);e.debounceTime=n;var u=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.dueTime,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(s.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(465);n.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=null),this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.defaultIfEmpty=n;var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.defaultValue))},t}(),c=function(t){function e(e,r){t.call(this,e),this.defaultValue=r,this.isEmpty=!0}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(467);n.Observable.prototype.delay=i.delay},function(t,e,r){"use strict";function n(t,e){void 0===e&&(e=o.async);var r=s.isDate(t),n=r?+t-e.now():Math.abs(t);return this.lift(new a(n,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(396),s=r(421),c=r(43),u=r(383);e.delay=n;var a=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.delay,this.scheduler))},t}(),h=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return i(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,i=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var e=this.scheduler,r=new p(e.now()+this.delay,t);this.queue.push(r),this.active===!1&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},e}(c.Subscriber),p=function(){function t(t,e){this.time=t,this.notification=e}return t}()},function(t,e,r){"use strict";var n=r(38),i=r(469);n.Observable.prototype.delayWhen=i.delayWhen},function(t,e,r){"use strict";function n(t,e){return e?new p(this,e).lift(new a(t)):this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(38),c=r(360),u=r(361);e.delayWhen=n;var a=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.delayDurationSelector))},t}(),h=function(t){function e(e,r){t.call(this,e),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),r=null;return-1!==e&&(r=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),r},e.prototype.tryDelay=function(t,e){var r=u.subscribeToResult(this,t,e);this.add(r),this.delayNotifierSubscriptions.push(r),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(c.OuterSubscriber),p=function(t){function e(e,r){t.call(this),this.source=e,this.subscriptionDelay=r}return i(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new l(t,this.source))},e}(s.Observable),l=function(t){function e(e,r){t.call(this),this.parent=e,this.source=r,this.sourceSubscribed=!1}return i(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(471);n.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(48),c=r(49);e.distinctUntilChanged=n;var u=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.compare,this.keySelector))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,r=t;if(e&&(r=s.tryCatch(this.keySelector)(t),r===c.errorObject))return this.destination.error(c.errorObject.e);var n=!1;if(this.hasKey){if(n=s.tryCatch(this.compare)(this.key,r),n===c.errorObject)return this.destination.error(c.errorObject.e)}else this.hasKey=!0;Boolean(n)===!1&&(this.key=r,this.destination.next(t))},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(473);n.Observable.prototype["do"]=i._do},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new s(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e._do=n;var s=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.nextOrObserver,this.error,this.complete))},t}(),c=function(t){function e(e,r,n,i){t.call(this,e);var s=new o.Subscriber(r,n,i);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return i(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(475);n.Observable.prototype.expand=i.expand},function(t,e,r){"use strict";function n(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=1>(e||0)?Number.POSITIVE_INFINITY:e,this.lift(new a(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(48),s=r(49),c=r(360),u=r(361);e.expand=n;var a=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.project,this.concurrent,this.scheduler))},t}();e.ExpandOperator=a;var h=function(t){function e(e,r,n,i){t.call(this,e),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return i(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,n=t.value,i=t.index;e.subscribeToProjection(r,n,i)},e.prototype._next=function(t){var r=this.destination;if(r.isUnsubscribed)return void this._complete();var n=this.index++;if(this.active<this.concurrent){r.next(t);var i=o.tryCatch(this.project)(t,n);if(i===s.errorObject)r.error(s.errorObject.e);else if(this.scheduler){var c={subscriber:this,result:i,value:t,index:n};this.add(this.scheduler.schedule(e.dispatch,0,c))}else this.subscribeToProjection(i,t,n)}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.add(u.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(c.OuterSubscriber);e.ExpandSubscriber=h},function(t,e,r){"use strict";var n=r(38),i=r(477);n.Observable.prototype.filter=i.filter},function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.filter=n;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate,this.thisArg))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.thisArg=n,this.count=0,this.predicate=r}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(479);n.Observable.prototype["finally"]=i._finally},function(t,e,r){"use strict";function n(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(45);e._finally=n;var c=function(){function t(t){this.finallySelector=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.finallySelector))},t}(),u=function(t){function e(e,r){t.call(this,e),this.add(new s.Subscription(r))}return i(e,t),e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(481);n.Observable.prototype.first=i.first},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new c(t,e,r,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(482);e.first=n;var c=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1}return i(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(n){return void this.destination.error(n)}r&&this._emit(t,e)},e.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(n){return void this.destination.error(n)}this._emitFinal(r)},e.prototype._emitFinal=function(t){var e=this.destination;e.next(t),e.complete(),this.hasCompleted=!0},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){t.call(this,"no elements in sequence"),this.name="EmptyError"}return r(e,t),e}(Error);e.EmptyError=n},function(t,e,r){"use strict";var n=r(38),i=r(484);n.Observable.prototype.groupBy=i.groupBy},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new p(this,t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(45),c=r(38),u=r(37),a=r(485),h=r(487);e.groupBy=n;var p=function(){function t(t,e,r,n){this.source=t,this.keySelector=e,this.elementSelector=r,this.durationSelector=n}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector))},t}(),l=function(t){function e(e,r,n,i){t.call(this),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0,this.destination=e,this.add(e)}return i(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups="string"==typeof e?new h.FastMap:new a.Map);var n=r.get(e);if(!n){r.set(e,n=new u.Subject);var i=new d(e,n,this);this.durationSelector&&this._selectDuration(e,n),this.destination.next(i)}this.elementSelector?this._selectElement(t,n):this.tryGroupNext(t,n)},e.prototype._selectElement=function(t,e){var r;try{r=this.elementSelector(t)}catch(n){return void this.error(n)}this.tryGroupNext(r,e)},e.prototype._selectDuration=function(t,e){var r;try{r=this.durationSelector(new d(t,e))}catch(n){return void this.error(n)}this.add(r.subscribe(new f(t,e,this)))},e.prototype.tryGroupNext=function(t,e){e.isUnsubscribed||e.next(t)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups["delete"](t)},e.prototype.unsubscribe=function(){this.isUnsubscribed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(o.Subscriber),f=function(t){function e(e,r,n){t.call(this),this.key=e,this.group=r,this.parent=n}return i(e,t),e.prototype._next=function(t){this.tryComplete()},e.prototype._error=function(t){this.tryError(t)},e.prototype._complete=function(){this.tryComplete()},e.prototype.tryError=function(t){var e=this.group;e.isUnsubscribed||e.error(t),this.parent.removeGroup(this.key)},e.prototype.tryComplete=function(){var t=this.group;t.isUnsubscribed||t.complete(),this.parent.removeGroup(this.key)},e}(o.Subscriber),d=function(t){function e(e,r,n){t.call(this),this.key=e,this.groupSubject=r,this.refCountSubscription=n}return i(e,t),e.prototype._subscribe=function(t){var e=new s.Subscription,r=this,n=r.refCountSubscription,i=r.groupSubject;return n&&!n.isUnsubscribed&&e.add(new b(n)),e.add(i.subscribe(t)),e},e}(c.Observable);e.GroupedObservable=d;var b=function(t){function e(e){t.call(this),this.parent=e,e.count++}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.isUnsubscribed||this.isUnsubscribed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(s.Subscription)},function(t,e,r){"use strict";var n=r(39),i=r(486);e.Map=n.root.Map||function(){return i.MapPolyfill}()},function(t,e){"use strict";var r=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return-1===r?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return-1===e?!1:(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}();e.MapPolyfill=r},function(t,e){"use strict";var r=function(){function t(){this.values={}}return t.prototype["delete"]=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&t.call(e,r[n],n)},t.prototype.clear=function(){this.values={}},t}();e.FastMap=r},function(t,e,r){"use strict";var n=r(38),i=r(489);n.Observable.prototype.ignoreElements=i.ignoreElements},function(t,e,r){"use strict";function n(){return this.lift(new c)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(409);e.ignoreElements=n;var c=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype._next=function(t){s.noop()},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(491);n.Observable.prototype.audit=i.audit},function(t,e,r){"use strict";function n(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(48),s=r(49),c=r(360),u=r(361);e.audit=n;var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.durationSelector))},t}(),h=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1}return i(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=o.tryCatch(this.durationSelector)(t);e===s.errorObject?this.destination.error(s.errorObject.e):this.add(this.throttled=u.subscribeToResult(this,e))}},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,r,n){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(c.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(493);n.Observable.prototype.auditTime=i.auditTime},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=s.async),this.lift(new u(t,e))}function i(t){t.clearThrottle()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(396),c=r(43);e.auditTime=n;var u=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.delay,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(i,this.delay,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(c.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(495);n.Observable.prototype.last=i.last},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new c(t,e,r,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(482);e.last=n;var c=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return i(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(n){return void this.destination.error(n)}if(r){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(n){return void this.destination.error(n)}this.lastValue=r,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(497);n.Observable.prototype.let=i.letProto,n.Observable.prototype.letBind=i.letProto},function(t,e){"use strict";function r(t){return t(this)}e.letProto=r},function(t,e,r){"use strict";var n=r(38),i=r(499);n.Observable.prototype.every=i.every},function(t,e,r){"use strict";function n(t,e){var r=this;return r.lift(new s(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.every=n;var s=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate,this.thisArg,this.source))},t}(),c=function(t){function e(e,r,n,i){t.call(this,e),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(501);n.Observable.prototype.map=i.map},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.map=n;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.thisArg))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.count=0,this.thisArg=n||this}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(503);n.Observable.prototype.mapTo=i.mapTo},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.mapTo=n;var s=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.value))},t}(),c=function(t){function e(e,r){t.call(this,e),this.value=r}return i(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(505);n.Observable.prototype.materialize=i.materialize},function(t,e,r){"use strict";function n(){return this.lift(new c)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(383);e.materialize=n;var c=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype._next=function(t){this.destination.next(s.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(s.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(s.Notification.createComplete()),t.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(403);n.Observable.prototype.merge=i.merge},function(t,e,r){"use strict";var n=r(38),i=r(368);n.Observable.prototype.mergeAll=i.mergeAll},function(t,e,r){"use strict";var n=r(38),i=r(452);n.Observable.prototype.mergeMap=i.mergeMap,n.Observable.prototype.flatMap=i.mergeMap},function(t,e,r){"use strict";var n=r(38),i=r(455);n.Observable.prototype.flatMapTo=i.mergeMapTo,n.Observable.prototype.mergeMapTo=i.mergeMapTo},function(t,e,r){"use strict";var n=r(38),i=r(440);n.Observable.prototype.multicast=i.multicast},function(t,e,r){"use strict";var n=r(38),i=r(382);n.Observable.prototype.observeOn=i.observeOn},function(t,e,r){"use strict";var n=r(38),i=r(513);n.Observable.prototype.partition=i.partition},function(t,e,r){"use strict";function n(t,e){return[o.filter.call(this,t),o.filter.call(this,i.not(t,e))]}var i=r(514),o=r(477);e.partition=n},function(t,e){"use strict";function r(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}e.not=r},function(t,e,r){"use strict";var n=r(38),i=r(516);n.Observable.prototype.pluck=i.pluck},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t.length;if(0===r)throw new Error("List of properties cannot be empty.");return o.map.call(this,i(t,r))}function i(t,e){var r=function(r){for(var n=r,i=0;e>i;i++){var o=n[t[i]];if("undefined"==typeof o)return;n=o}return n};return r}var o=r(501);e.pluck=n},function(t,e,r){"use strict";var n=r(38),i=r(518);n.Observable.prototype.publish=i.publish},function(t,e,r){"use strict";function n(){return o.multicast.call(this,new i.Subject)}var i=r(37),o=r(440);e.publish=n},function(t,e,r){"use strict";var n=r(38),i=r(520);n.Observable.prototype.publishBehavior=i.publishBehavior},function(t,e,r){"use strict";function n(t){return o.multicast.call(this,new i.BehaviorSubject(t))}var i=r(521),o=r(440);e.publishBehavior=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(37),o=r(54),s=r(55),c=function(t){function e(e){t.call(this),this._value=e}return n(e,t),e.prototype.getValue=function(){if(this.hasErrored)o.throwError(this.errorValue);else{if(!this.isUnsubscribed)return this._value;o.throwError(new s.ObjectUnsubscribedError)}},Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.isUnsubscribed&&e.next(this._value),r},e.prototype._next=function(e){t.prototype._next.call(this,this._value=e)},e.prototype._error=function(e){this.hasErrored=!0,t.prototype._error.call(this,this.errorValue=e)},e}(i.Subject);e.BehaviorSubject=c},function(t,e,r){"use strict";var n=r(38),i=r(437);n.Observable.prototype.publishReplay=i.publishReplay},function(t,e,r){"use strict";var n=r(38),i=r(524);n.Observable.prototype.publishLast=i.publishLast},function(t,e,r){"use strict";function n(){return o.multicast.call(this,new i.AsyncSubject)}var i=r(350),o=r(440);e.publishLast=n},function(t,e,r){"use strict";var n=r(38),i=r(405);n.Observable.prototype.race=i.race},function(t,e,r){"use strict";var n=r(38),i=r(527);n.Observable.prototype.reduce=i.reduce},function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.reduce=n;var s=function(){function t(t,e){this.project=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.seed))},t}();e.ReduceOperator=s;var c=function(t){function e(e,r,n){t.call(this,e),this.hasValue=!1,this.acc=n,this.project=r,this.hasSeed="undefined"!=typeof n}return i(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.project(this.acc,t)}catch(r){return void this.destination.error(r)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(o.Subscriber);e.ReduceSubscriber=c},function(t,e,r){"use strict";var n=r(38),i=r(529);n.Observable.prototype.repeat=i.repeat},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=-1),0===t?new s.EmptyObservable:0>t?this.lift(new c(-1,this)):this.lift(new c(t-1,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(358);e.repeat=n;var c=function(){function t(t,e){this.count=t,this.source=e;
}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.count,this.source))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return i(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,r=e.source,n=e.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,r.subscribe(this)}},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(531);n.Observable.prototype.retry=i.retry},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=-1),this.lift(new s(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.retry=n;var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.count,this.source))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(0===i)return t.prototype.error.call(this,e);i>-1&&(this.count=i-1),this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,n.subscribe(this)}},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(533);n.Observable.prototype.retryWhen=i.retryWhen},function(t,e,r){"use strict";function n(t){return this.lift(new h(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(37),s=r(48),c=r(49),u=r(360),a=r(361);e.retryWhen=n;var h=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new p(t,this.notifier,this.source))},t}(),p=function(t){function e(e,r,n){t.call(this,e),this.notifier=r,this.source=n}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new o.Subject,n=s.tryCatch(this.notifier)(r),n===c.errorObject)return t.prototype.error.call(this,c.errorObject.e);i=a.subscribeToResult(this,n)}this.unsubscribe(),this.isUnsubscribed=!1,this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,r=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.errors,c=o.retries,u=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,this.errors=s,this.retries=c,this.retriesSubscription=u,this.source.subscribe(this)},e}(u.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(535);n.Observable.prototype.sample=i.sample},function(t,e,r){"use strict";function n(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.sample=n;var c=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(537);n.Observable.prototype.sampleTime=i.sampleTime},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=c.async),this.lift(new u(t,e))}function i(t){var e=t.subscriber,r=t.delay;e.notifyNext(),this.schedule(t,r)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(43),c=r(396);e.sampleTime=n;var u=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.delay,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(i,r,{subscriber:this,delay:r}))}return o(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(s.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(539);n.Observable.prototype.scan=i.scan},function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.scan=n;var s=function(){function t(t,e){this.accumulator=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.accumulator,this.seed))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.accumulator=r,this.accumulatorSet=!1,this.seed=n,this.accumulator=r,this.accumulatorSet="undefined"!=typeof n}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.accumulatorSet=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){return this.accumulatorSet?this._tryNext(t):(this.seed=t,void this.destination.next(t))},e.prototype._tryNext=function(t){var e;try{e=this.accumulator(this.seed,t)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(541);n.Observable.prototype.share=i.share},function(t,e,r){"use strict";function n(){return new s.Subject}function i(){return o.multicast.call(this,n).refCount()}var o=r(440),s=r(37);e.share=i},function(t,e,r){"use strict";var n=r(38),i=r(543);n.Observable.prototype.single=i.single},function(t,e,r){"use strict";function n(t){return this.lift(new c(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(482);e.single=n;var c=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.source))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return i(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.predicate;this.index++,e?this.tryNext(t):this.applySingleValue(t)},e.prototype.tryNext=function(t){try{var e=this.predicate(t,this.index,this.source);e&&this.applySingleValue(t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(545);n.Observable.prototype.skip=i.skip},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.skip=n;var s=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return i(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(547);n.Observable.prototype.skipUntil=i.skipUntil},function(t,e,r){"use strict";function n(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.skipUntil=n;var c=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(549);n.Observable.prototype.skipWhile=i.skipWhile},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.skipWhile=n;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate))},t}(),c=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.skipping=!0,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(r){this.destination.error(r)}},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(551);n.Observable.prototype.startWith=i.startWith},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];u.isScheduler(r)?t.pop():r=null;var n=t.length;return 1===n?c.concatStatic(new o.ScalarObservable(t[0],r),this):n>1?c.concatStatic(new i.ArrayObservable(t,r),this):c.concatStatic(new s.EmptyObservable(r),this)}var i=r(356),o=r(357),s=r(358),c=r(367),u=r(359);e.startWith=n},function(t,e,r){"use strict";var n=r(38),i=r(553);n.Observable.prototype.subscribeOn=i.subscribeOn},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),new i.SubscribeOnObservable(this,e,t)}var i=r(554);e.subscribeOn=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(38),o=r(555),s=r(395),c=function(t){function e(e,r,n){void 0===r&&(r=0),void 0===n&&(n=o.asap),t.call(this),this.source=e,this.delayTime=r,this.scheduler=n,(!s.isNumeric(r)||0>r)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=o.asap)}return n(e,t),e.create=function(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=o.asap),new e(t,r,n)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return e.subscribe(r)},e.prototype._subscribe=function(t){var r=this.delayTime,n=this.source,i=this.scheduler;return i.schedule(e.dispatch,r,{source:n,subscriber:t})},e}(i.Observable);e.SubscribeOnObservable=c},function(t,e,r){"use strict";var n=r(556);e.asap=new n.AsapScheduler},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(557),o=r(399),s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.scheduleNow=function(t,e){return new i.AsapAction(this,t).schedule(e)},e}(o.QueueScheduler);e.AsapScheduler=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(558),o=r(398),s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype._schedule=function(e,r){if(void 0===r&&(r=0),r>0)return t.prototype._schedule.call(this,e,r);this.delay=r,this.state=e;var n=this.scheduler;return n.actions.push(this),n.scheduledId||(n.scheduledId=i.Immediate.setImmediate(function(){n.scheduledId=null,n.flush()})),this},e.prototype._unsubscribe=function(){var e=this.scheduler,r=e.scheduledId,n=e.actions;t.prototype._unsubscribe.call(this),0===n.length&&(e.active=!1,null!=r&&(e.scheduledId=null,i.Immediate.clearImmediate(r)))},e}(o.FutureAction);e.AsapAction=s},function(t,e,r){"use strict";var n=r(39),i=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function r(t){delete r.instance.tasksByHandle[t]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=function i(){var t=i,e=t.handler,r=t.args;"function"==typeof e?e.apply(void 0,r):new Function(""+e)()};return n.handler=t,n.args=e,n},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",r=function i(r){var n=i.instance;r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&n.runIfPresent(+r.data.slice(e.length))};r.instance=this,t.addEventListener("message",r,!1);var n=function o(){var t=o,e=t.messagePrefix,r=t.instance,n=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(e+n,"*"),n};return n.instance=this,n.messagePrefix=e,n},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var r=e.data;t.runIfPresent(r)};var r=function n(){var t=n,e=t.channel,r=t.instance,i=r.addFromSetImmediateArguments(arguments);return e.port2.postMessage(i),i};return r.channel=e,r.instance=this,r},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function e(){var t=e.instance,r=t.root,n=r.document,i=n.documentElement,o=t.addFromSetImmediateArguments(arguments),s=n.createElement("script");return s.onreadystatechange=function(){t.runIfPresent(o),s.onreadystatechange=null,i.removeChild(s),s=null},i.appendChild(s),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return t.instance=this,t},t}();e.ImmediateDefinition=i,e.Immediate=new i(n.root)},function(t,e,r){"use strict";var n=r(38),i=r(560);n.Observable.prototype["switch"]=i._switch},function(t,e,r){"use strict";function n(){return this.lift(new c)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e._switch=n;var c=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.active=0,this.hasCompleted=!1}return i(e,t),e.prototype._next=function(t){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=s.subscribeToResult(this,t))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},e.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var t=this.innerSubscription;t&&(t.unsubscribe(),this.remove(t))},e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(562);n.Observable.prototype.switchMap=i.switchMap},function(t,e,r){"use strict";function n(t,e){return this.lift(new c(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.switchMap=n;var c=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.isUnsubscribed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._tryNotifyNext(t,e,r,n):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(o){return void this.destination.error(o)}this.destination.next(i)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(564);n.Observable.prototype.switchMapTo=i.switchMapTo},function(t,e,r){"use strict";function n(t,e){return this.lift(new c(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.switchMapTo=n;var c=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.observable,this.resultSelector))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.inner=r,this.resultSelector=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.isUnsubscribed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,c=o.destination;s?this.tryResultSelector(t,e,r,n):c.next(e)},e.prototype.tryResultSelector=function(t,e,r,n){var i,o=this,s=o.resultSelector,c=o.destination;try{i=s(t,e,r,n)}catch(u){return void c.error(u)}c.next(i)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(566);n.Observable.prototype.take=i.take},function(t,e,r){"use strict";function n(t){return 0===t?new c.EmptyObservable:this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(567),c=r(358);e.take=n;var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.total;++this.count<=e&&(this.destination.next(t),this.count===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){t.call(this,"argument out of range"),this.name="ArgumentOutOfRangeError"}return r(e,t),e}(Error);e.ArgumentOutOfRangeError=n},function(t,e,r){"use strict";var n=r(38),i=r(569);n.Observable.prototype.takeLast=i.takeLast},function(t,e,r){"use strict";function n(t){return 0===t?new c.EmptyObservable:this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(567),c=r(358);e.takeLast=n;var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,r){t.call(this,e),this.total=r,this.ring=new Array,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;if(e.length<r)e.push(t);else{var i=n%r;e[i]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;r>i;i++){var o=e++%r;t.next(n[o])}t.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(571);n.Observable.prototype.takeUntil=i.takeUntil},function(t,e,r){"use strict";function n(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.takeUntil=n;var c=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.complete()},e.prototype.notifyComplete=function(){},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(573);n.Observable.prototype.takeWhile=i.takeWhile},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.takeWhile=n;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate))},t}(),c=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.index=0}return i(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(n){return void r.error(n)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(575);n.Observable.prototype.throttle=i.throttle},function(t,e,r){"use strict";function n(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.throttle=n;var c=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,r){t.call(this,e),this.destination=e,this.durationSelector=r}return i(e,t),e.prototype._next=function(t){this.throttled||this.tryDurationSelector(t)},e.prototype.tryDurationSelector=function(t){var e=null;try{e=this.durationSelector(t)}catch(r){return void this.destination.error(r)}this.emitAndThrottle(t,e)},e.prototype.emitAndThrottle=function(t,e){this.add(this.throttled=s.subscribeToResult(this,e)),this.destination.next(t)},e.prototype._unsubscribe=function(){var t=this.throttled;t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype.notifyNext=function(t,e,r,n,i){this._unsubscribe()},e.prototype.notifyComplete=function(){this._unsubscribe()},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(577);n.Observable.prototype.throttleTime=i.throttleTime},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=c.async),this.lift(new u(t,e))}function i(t){var e=t.subscriber;e.clearThrottle()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(43),c=r(396);e.throttleTime=n;var u=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.delay,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n}return o(e,t),e.prototype._next=function(t){this.throttled||(this.add(this.throttled=this.scheduler.schedule(i,this.delay,{subscriber:this})),this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(t.unsubscribe(),this.remove(t),this.throttled=null)},e}(s.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(579);n.Observable.prototype.timeout=i.timeout},function(t,e,r){"use strict";function n(t,e,r){void 0===e&&(e=null),void 0===r&&(r=o.async);var n=s.isDate(t),i=n?+t-r.now():Math.abs(t);return this.lift(new u(i,n,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(396),s=r(421),c=r(43);e.timeout=n;var u=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.errorToSend=r,this.scheduler=n}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))},t}(),a=function(t){function e(e,r,n,i,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=n,this.errorToSend=i,this.scheduler=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return i(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.notifyTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index;this.scheduler.schedule(e.dispatchTimeout,this.waitFor,{subscriber:this,index:t}),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))},e}(c.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(581);n.Observable.prototype.timeoutWith=i.timeoutWith},function(t,e,r){"use strict";function n(t,e,r){void 0===r&&(r=o.async);var n=s.isDate(t),i=n?+t-r.now():Math.abs(t);return this.lift(new a(i,n,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(396),s=r(421),c=r(360),u=r(361);e.timeoutWith=n;var a=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),h=function(t){function e(e,r,n,i,o){t.call(this),this.destination=e,this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,e.add(this),this.scheduleTimeout()}return i(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.handleTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index,r={subscriber:this,index:t};this.scheduler.schedule(e.dispatchTimeout,this.waitFor,r),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.handleTimeout=function(){if(!this.isUnsubscribed){var t=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=u.subscribeToResult(this,t))}},e}(c.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(583);n.Observable.prototype.toArray=i.toArray},function(t,e,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43);e.toArray=n;var s=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e),this.array=[]}return i(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(o.Subscriber)},function(t,e,r){
"use strict";var n=r(38),i=r(57);n.Observable.prototype.toPromise=i.toPromise},function(t,e,r){"use strict";var n=r(38),i=r(586);n.Observable.prototype.window=i.window},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(37),s=r(360),c=r(361);e.window=n;var u=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.windowBoundaries))},t}(),a=function(t){function e(e,r){t.call(this,e),this.destination=e,this.windowBoundaries=r,this.add(c.subscribeToResult(this,r)),this.openWindow()}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new o.Subject;e.add(r),e.next(r)},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(588);n.Observable.prototype.windowCount=i.windowCount},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),this.lift(new c(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(43),s=r(37);e.windowCount=n;var c=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.windowSize,this.startWindowEvery))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.destination=e,this.windowSize=r,this.startWindowEvery=n,this.windows=[new s.Subject],this.count=0;var i=this.windows[0];e.add(i),e.next(i)}return i(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,c=0;o>c;c++)i[c].next(t);var u=this.count-n+1;if(u>=0&&u%e===0&&i.shift().complete(),++this.count%e===0){var a=new s.Subject;i.push(a),r.add(a),r.next(a)}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;)t.shift().complete();this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(590);n.Observable.prototype.windowTime=i.windowTime},function(t,e,r){"use strict";function n(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=h.async),this.lift(new p(t,e,r))}function i(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&n.complete(),t.window=e.openWindow(),this.schedule(t,r)}function o(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o=r.openWindow(),c=this,u={action:c,subscription:null},a={subscriber:r,window:o,context:u};u.subscription=n.schedule(s,e,a),c.add(u.subscription),c.schedule(t,i)}function s(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}var c=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=r(43),a=r(37),h=r(396);e.windowTime=n;var p=function(){function t(t,e,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},t}(),l=function(t){function e(e,r,n,c){if(t.call(this,e),this.destination=e,this.windowTimeSpan=r,this.windowCreationInterval=n,this.scheduler=c,this.windows=[],null!==n&&n>=0){var u=this.openWindow(),a={subscriber:this,window:u,context:null},h={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:c};this.add(c.schedule(s,r,a)),this.add(c.schedule(o,n,h))}else{var p=this.openWindow(),l={subscriber:this,window:p,windowTimeSpan:r};this.add(c.schedule(i,r,l))}}return c(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,n=0;r>n;n++){var i=e[n];i.isUnsubscribed||i.next(t)}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.isUnsubscribed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new a.Subject;this.windows.push(t);var e=this.destination;return e.add(t),e.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(u.Subscriber)},function(t,e,r){"use strict";var n=r(38),i=r(592);n.Observable.prototype.windowToggle=i.windowToggle},function(t,e,r){"use strict";function n(t,e){return this.lift(new p(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(37),s=r(45),c=r(48),u=r(49),a=r(360),h=r(361);e.windowToggle=n;var p=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.openings,this.closingSelector))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=h.subscribeToResult(this,r,r))}return i(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;r>n;n++)e[n].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var i=e[n];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,n,i){if(t===this.openings){var a=this.closingSelector,p=c.tryCatch(a)(e);if(p===u.errorObject)return this.error(u.errorObject.e);var l=new o.Subject,f=new s.Subscription,d={window:l,subscription:f};this.contexts.push(d);var b=h.subscribeToResult(this,p,d);b.isUnsubscribed?this.closeWindow(this.contexts.length-1):(b.context=d,f.add(b)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],n=r.window,i=r.subscription;e.splice(t,1),n.complete(),i.unsubscribe()}},e}(a.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(594);n.Observable.prototype.windowWhen=i.windowWhen},function(t,e,r){"use strict";function n(t){return this.lift(new h(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(37),s=r(48),c=r(49),u=r(360),a=r(361);e.windowWhen=n;var h=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new p(t,this.closingSelector))},t}(),p=function(t){function e(e,r){t.call(this,e),this.destination=e,this.closingSelector=r,this.openWindow()}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new o.Subject;this.destination.next(r);var n=s.tryCatch(this.closingSelector)();if(n===c.errorObject){var i=c.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=a.subscribeToResult(this,n)),this.add(r)},e}(u.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(596);n.Observable.prototype.withLatestFrom=i.withLatestFrom},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return this.lift(new c(n,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(360),s=r(361);e.withLatestFrom=n;var c=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.observables,this.project))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var o=0;i>o;o++)this.toRespond.push(o);for(var o=0;i>o;o++){var c=r[o];this.add(s.subscribeToResult(this,c,c,o))}}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);-1!==s&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";var n=r(38),i=r(424);n.Observable.prototype.zip=i.zipProto},function(t,e,r){"use strict";var n=r(38),i=r(599);n.Observable.prototype.zipAll=i.zipAll},function(t,e,r){"use strict";function n(t){return this.lift(new i.ZipOperator(t))}var i=r(424);e.zipAll=n},function(t,e,r){"use strict";var n=r(43),i=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new n.Subscriber(t))},t}();e.Operator=i},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=function(){function t(){}return n([o.Input(),i("design:type",Object)],t.prototype,"colorStrips",void 0),t=n([o.Component({selector:"schemr-previewer",templateUrl:"app/components/previewer/previewer.html"}),i("design:paramtypes",[])],t)}();e.SchemrPreviewer=s},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],r=0,n=0;n<t.length;n+=2)e[r]={},e[r].primaryColor=t[n],e[r].secondaryColor=t[n+1]||t[n],r++;return e},t=n([o.Pipe({name:"transform"}),i("design:paramtypes",[])],t)}();e.PreviewPipe=s},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},o=r(4),s=function(){function t(){}return t.prototype.transform=function(t){return t?String(t).replace(/<[^>]+>/gm,""):""},t=n([o.Pipe({name:"escapehtmltags"}),i("design:paramtypes",[])],t)}();e.EscapeHtmlTagsPipe=s}]);
//# sourceMappingURL=app-config.map